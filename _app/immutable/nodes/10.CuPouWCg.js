import{g as Y,c as Z,l as U}from"../chunks/config.Cf_oiyhn.js";import"../chunks/image.owZ0pD_T.js";import{b as x}from"../chunks/paths.ZkHu_R03.js";import{s as ee,a as C,e as T,g as H,c as D,b as te,f as b,p as N,i as k,h as z,L as ne,k as A,M as oe,G as L,n as q,N as Q,O as re}from"../chunks/scheduler.CrW8fofK.js";import{S as ae,i as ie,c as I,b as P,m as V,a as d,e as O,t as g,d as j,g as G}from"../chunks/index.TEUI1j1C.js";import{e as B,u as ce,o as ue}from"../chunks/each.BRNUf2gm.js";import{S as fe,q as F,g as _e,a as pe,b as me}from"../chunks/index.qvo19LY_.js";import{l as ge,c as de}from"../chunks/lockscroll.DLz6los7.js";import{G as he,a as ye}from"../chunks/gettyStereo.DVjc1sKR.js";const be=!1,ke=!0,qe=!1;async function ve({params:o,fetch:t}){const r=`${x}/assets/gettyimages/queries.csv`,{data:e,error:s}=await Y({key:"gettyimages-queries",url:r,type:"text"},t);if(!e||s)return console.error("error",s),s(404,"Not found");const l=Z(e);return l.sort((i,n)=>i.queryLabel.localeCompare(n.queryLabel)),{queries:l}}const Ve=Object.freeze(Object.defineProperty({__proto__:null,csr:ke,load:ve,prerender:be,ssr:qe},Symbol.toStringTag,{value:"Module"}));function J(o,t,r){const e=o.slice();return e[18]=t[r],e[20]=r,e}function Le(o){let t,r,e=o[3].length&&K(o);return{c(){t=T("div"),e&&e.c(),this.h()},l(s){t=D(s,"DIV",{class:!0});var l=te(t);e&&e.l(l),l.forEach(b),this.h()},h(){N(t,"class","container p-s grid-1-s svelte-fr0d3y")},m(s,l){k(s,t,l),e&&e.m(t,null),r=!0},p(s,l){s[3].length?e?(e.p(s,l),l&8&&g(e,1)):(e=K(s),e.c(),g(e,1),e.m(t,null)):e&&(G(),d(e,1,1,()=>{e=null}),O())},i(s){r||(g(e),r=!0)},o(s){d(e),r=!1},d(s){s&&b(t),e&&e.d()}}}function Se(o){let t,r="<p>No data available</p>";return{c(){t=T("div"),t.innerHTML=r,this.h()},l(e){t=D(e,"DIV",{class:!0,"data-svelte-h":!0}),re(t)!=="svelte-kunnt3"&&(t.innerHTML=r),this.h()},h(){N(t,"class","container flex-center-center svelte-fr0d3y")},m(e,s){k(e,t,s)},p:q,i:q,o:q,d(e){e&&b(t)}}}function we(o){let t,r="<p>Loading...</p>";return{c(){t=T("div"),t.innerHTML=r,this.h()},l(e){t=D(e,"DIV",{class:!0,"data-svelte-h":!0}),re(t)!=="svelte-qdph03"&&(t.innerHTML=r),this.h()},h(){N(t,"class","container flex-center-center svelte-fr0d3y")},m(e,s){k(e,t,s)},p:q,i:q,o:q,d(e){e&&b(t)}}}function K(o){let t=[],r=new Map,e,s,l=B(o[3]);const i=n=>{var a;return`${n[20]}-${(a=n[18])==null?void 0:a[0]}`};for(let n=0;n<l.length;n+=1){let a=J(o,l,n),_=i(a);r.set(_,t[n]=R(_,a))}return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=L()},l(n){for(let a=0;a<t.length;a+=1)t[a].l(n);e=L()},m(n,a){for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(n,a);k(n,e,a),s=!0},p(n,a){a&1036&&(l=B(n[3]),G(),t=ce(t,a,i,1,n,l,r,e.parentNode,ue,R,e,J),O())},i(n){if(!s){for(let a=0;a<l.length;a+=1)g(t[a]);s=!0}},o(n){for(let a=0;a<t.length;a+=1)d(t[a]);s=!1},d(n){n&&b(e);for(let a=0;a<t.length;a+=1)t[a].d(n)}}}function R(o,t){let r,e,s;return e=new he({props:{cluster:t[18],query:t[2],openGallery:t[10]}}),{key:o,first:null,c(){r=L(),I(e.$$.fragment),this.h()},l(l){r=L(),P(e.$$.fragment,l),this.h()},h(){this.first=r},m(l,i){k(l,r,i),V(e,l,i),s=!0},p(l,i){t=l;const n={};i&8&&(n.cluster=t[18]),i&4&&(n.query=t[2]),e.$set(n)},i(l){s||(g(e.$$.fragment,l),s=!0)},o(l){d(e.$$.fragment,l),s=!1},d(l){l&&b(r),j(e,l)}}}function W(o){let t,r;return t=new ye({props:{gallery:o[4],close:o[11],query:o[2]}}),{c(){I(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,s){V(t,e,s),r=!0},p(e,s){const l={};s&16&&(l.gallery=e[4]),s&4&&(l.query=e[2]),t.$set(l)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){j(t,e)}}}function X(o){let t,r,e=o[4].isOpen&&W(o);return{c(){e&&e.c(),t=L()},l(s){e&&e.l(s),t=L()},m(s,l){e&&e.m(s,l),k(s,t,l),r=!0},p(s,l){s[4].isOpen?e?(e.p(s,l),l&16&&g(e,1)):(e=W(s),e.c(),g(e,1),e.m(t.parentNode,t)):e&&(G(),d(e,1,1,()=>{e=null}),O())},i(s){r||(g(e),r=!0)},o(s){d(e),r=!1},d(s){s&&b(t),e&&e.d(s)}}}function Me(o){let t,r,e,s,l,i,n,a=o[2],_,S,h;e=new fe({props:{queries:o[5],description:o[7]("description"),question:o[7]("research_question")}});const w=[we,Se,Le],m=[];function v(c,u){var y;return c[1]?0:(y=c[0])!=null&&y.length?2:1}l=v(o),i=m[l]=w[l](o);let p=X(o);return{c(){t=C(),r=T("div"),I(e.$$.fragment),s=C(),i.c(),n=C(),p.c(),this.h()},l(c){t=H(c),r=D(c,"DIV",{class:!0});var u=te(r);P(e.$$.fragment,u),s=H(u),i.l(u),n=H(u),p.l(u),u.forEach(b),this.h()},h(){N(r,"class","page xl:flex-start-start")},m(c,u){k(c,t,u),k(c,r,u),V(e,r,null),z(r,s),m[l].m(r,null),z(r,n),p.m(r,null),_=!0,S||(h=ne(ge.call(null,document.body,o[6])),S=!0)},p(c,[u]){let y=l;l=v(c),l===y?m[l].p(c,u):(G(),d(m[y],1,1,()=>{m[y]=null}),O(),i=m[l],i?i.p(c,u):(i=m[l]=w[l](c),i.c()),g(i,1),i.m(r,n)),u&4&&ee(a,a=c[2])?(G(),d(p,1,1,q),O(),p=X(c),p.c(),g(p,1),p.m(r,null)):p.p(c,u)},i(c){_||(g(e.$$.fragment,c),g(i),g(p),_=!0)},o(c){d(e.$$.fragment,c),d(i),d(p),_=!1},d(c){c&&(b(t),b(r)),j(e),m[l].d(),p.d(c),S=!1,h()}}}function Oe(o,t,r){let e,s,l,i,{data:n}=t;const{queries:a}=n,_=de(),S=_e("youtube_language");let h,w,m=!1,v=F("query");A(o,v,f=>r(2,l=f));let p=F("lang");A(o,p,f=>r(14,i=f)),oe(()=>{var f;l||Q(v,l=(f=a[0])==null?void 0:f.query,l),i||Q(p,i=e==null?void 0:e.code,i)});const c=`${x}/assets/gettyimages`,u=async()=>{if(m||!me)return;if(r(1,m=!0),!l){r(1,m=!1),r(0,h=null);return}const{data:f,error:M}=await Y({key:"getty-stereotypes-data",url:s,type:"text"});f?r(0,h=Z(f)):r(0,h=null),r(1,m=!1)};let y={isOpen:!1,index:0,cluster:[]};const le=(f,M)=>{r(4,y={isOpen:!0,index:f,cluster:M}),_.toggle(!0)},se=()=>{r(4,y={isOpen:!1,index:0,cluster:[]}),_.toggle(!1)};return o.$$set=f=>{"data"in f&&r(12,n=f.data)},o.$$.update=()=>{var f,M;o.$$.dirty&16384&&(e=((f=U)==null?void 0:f[i])||((M=U)==null?void 0:M.us)),o.$$.dirty&4&&r(13,s=`${c}/${l}/${l}.csv`),o.$$.dirty&3&&r(3,w=h!=null&&h.length&&!m?pe(h,$=>$.cluster).sort(($,E)=>$[0]==="other"?1:E[0]==="other"?-1:$[0]>E[0]?1:-1):[]),o.$$.dirty&8192&&u()},[h,m,l,w,y,a,_,S,v,p,le,se,n,s,i]}class je extends ae{constructor(t){super(),ie(this,t,Oe,Me,ee,{data:12})}}export{je as component,Ve as universal};
