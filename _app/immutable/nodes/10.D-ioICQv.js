import{b as fe}from"../chunks/entry.DEV1taqI.js";import{g as de,c as he,l as x}from"../chunks/index.BWSmiydm.js";import{s as J,e as $,a as A,c as w,b as I,g as D,f as g,p as v,i as q,h as L,E as me,S as K,B as z,z as ye,A as Y,O as ke,L as $e,k as ee,Q as we,U as te,V as pe,n as T,F as B}from"../chunks/scheduler.DjmlZpBi.js";import{S as _e,i as ge,c as H,b as F,m as O,t as y,g as j,a as k,f as N,d as U}from"../chunks/index.D5mPgV2_.js";import{g as qe}from"../chunks/globals.D0QH3NT1.js";import{e as R,u as be,d as Ce,o as Me}from"../chunks/each.K9NGHkqs.js";import{S as Ve,q as re,g as Ee,a as Ie,b as Le}from"../chunks/sidebar.DvIRH2yO.js";import{l as Se,c as Ae}from"../chunks/lockscroll.mLlPoaB0.js";import{s as De,h as Te}from"../chunks/customSwipe.-5bGPq0K.js";import{M as He}from"../chunks/modal.B76gFB0w.js";import{T as G}from"../chunks/text.DH_QAwnB.js";const Fe=!1,Oe=!0,Ue=!1;async function je({params:o,fetch:e}){const r=`${fe}/assets/youtube/queries.csv`,{data:t,error:n}=await de({key:"youtube-queries",url:r,type:"text"},e);if(!t||n)return console.error("error",n),n(404,"Not found");const l=he(t);return l.sort((u,a)=>u.queryLabel.localeCompare(a.queryLabel)),{queries:l}}const at=Object.freeze(Object.defineProperty({__proto__:null,csr:Oe,load:je,prerender:Fe,ssr:Ue},Symbol.toStringTag,{value:"Module"}));function le(o,e,r){const t=o.slice();return t[14]=e[r],t[16]=r,t}function ne(o){let e,r=[],t=new Map,n,l,u,a,i=R(o[5]);const d=s=>`${s[14].id}-${s[0][0]}-${s[16]}`;for(let s=0;s<i.length;s+=1){let h=le(o,i,s),c=d(h);t.set(c,r[s]=oe(c,h))}let f=o[1]&&ae(o);return{c(){e=$("div");for(let s=0;s<r.length;s+=1)r[s].c();n=A(),f&&f.c(),this.h()},l(s){e=w(s,"DIV",{class:!0});var h=I(e);for(let c=0;c<r.length;c+=1)r[c].l(h);n=D(h),f&&f.l(h),h.forEach(g),this.h()},h(){v(e,"class","images col-[span-9] xl:col-[span-7] scrollbar-hide scroll-container svelte-10td8ff")},m(s,h){q(s,e,h);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);L(e,n),f&&f.m(e,null),l=!0,u||(a=K(De.call(null,e)),u=!0)},p(s,h){h&103&&(i=R(s[5]),r=be(r,h,d,1,s,i,t,e,Ce,oe,n,le)),s[1]?f?(f.p(s,h),h&2&&y(f,1)):(f=ae(s),f.c(),y(f,1),f.m(e,null)):f&&(j(),k(f,1,1,()=>{f=null}),N())},i(s){l||(y(f),l=!0)},o(s){k(f),l=!1},d(s){s&&g(e);for(let h=0;h<r.length;h+=1)r[h].d();f&&f.d(),u=!1,a()}}}function se(o){let e,r,t,n,l;function u(){return o[7](o[14])}return{c(){e=$("img"),this.h()},l(a){e=w(a,"IMG",{src:!0,alt:!0,loading:!0,draggable:!0}),this.h()},h(){Y(e.src,r=o[14].thumb)||v(e,"src",r),v(e,"alt",o[14].title),v(e,"loading","lazy"),v(e,"draggable","false")},m(a,i){q(a,e,i),n||(l=K(t=Te.call(null,e,{fn:u})),n=!0)},p(a,i){o=a,t&&$e(t.update)&&i&6&&t.update.call(null,{fn:u})},d(a){a&&g(e),n=!1,l()}}}function oe(o,e){let r,t=`${e[14].name}-${e[0][0]}-${e[16]}`,n,l,u=se(e);function a(...d){return e[8](e[16],...d)}function i(...d){return e[9](e[16],...d)}return{key:o,first:null,c(){r=$("button"),u.c(),this.h()},l(d){r=w(d,"BUTTON",{class:!0,tabindex:!0});var f=I(r);u.l(f),f.forEach(g),this.h()},h(){v(r,"class","image-container svelte-10td8ff"),v(r,"tabindex","0"),this.first=r},m(d,f){q(d,r,f),u.m(r,null),n||(l=[z(r,"mouseover",a),z(r,"focus",i),z(r,"mouseout",e[10]),z(r,"blur",e[11])],n=!0)},p(d,f){e=d,f&1&&J(t,t=`${e[14].name}-${e[0][0]}-${e[16]}`)?(u.d(1),u=se(e),u.c(),u.m(r,null)):u.p(e,f)},d(d){d&&g(r),u.d(d),n=!1,ye(l)}}}function ae(o){let e,r;return e=new He({props:{theme:"no-bg",fn:o[12],$$slots:{default:[Ne]},$$scope:{ctx:o}}}),{c(){H(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){O(e,t,n),r=!0},p(t,n){const l={};n&6&&(l.fn=t[12]),n&131076&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){U(e,t)}}}function Ne(o){let e,r,t;return{c(){e=$("div"),r=$("iframe"),this.h()},l(n){e=w(n,"DIV",{});var l=I(e);r=w(l,"IFRAME",{width:!0,height:!0,src:!0,title:!0,frameborder:!0,allow:!0}),I(r).forEach(g),l.forEach(g),this.h()},h(){v(r,"width","560"),v(r,"height","315"),Y(r.src,t="https://www.youtube.com/embed/"+o[2])||v(r,"src",t),v(r,"title",""),v(r,"frameborder","0"),v(r,"allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),r.allowFullscreen=!0},m(n,l){q(n,e,l),L(e,r)},p(n,l){l&4&&!Y(r.src,t="https://www.youtube.com/embed/"+n[2])&&v(r,"src",t)},d(n){n&&g(e)}}}function Pe(o){var h;let e,r,t,n,l,u,a,i,d,f;n=new G({props:{typo:"label",content:"Cluster",class:"case-upper"}}),u=new G({props:{typo:"h3",content:o[0][1][0].clusterLabel,class:"mb-xs"}}),i=new G({props:{typo:"label",content:"Videos: "+((h=o[0][1])==null?void 0:h.length),class:"case-upper"}});let s=o[4]&&ne(o);return{c(){e=$("div"),r=$("div"),t=$("div"),H(n.$$.fragment),l=A(),H(u.$$.fragment),a=A(),H(i.$$.fragment),d=A(),s&&s.c(),this.h()},l(c){e=w(c,"DIV",{class:!0});var m=I(e);r=w(m,"DIV",{class:!0});var b=I(r);t=w(b,"DIV",{});var C=I(t);F(n.$$.fragment,C),l=D(C),F(u.$$.fragment,C),C.forEach(g),a=D(b),F(i.$$.fragment,b),b.forEach(g),d=D(m),s&&s.l(m),m.forEach(g),this.h()},h(){v(r,"class","col-[span-9] xl:col-[span-2] flex-btw-start xl:flex-col-btw-start p-s"),v(e,"class","getty grid-9-gap svelte-10td8ff")},m(c,m){q(c,e,m),L(e,r),L(r,t),O(n,t,null),L(t,l),O(u,t,null),L(r,a),O(i,r,null),L(e,d),s&&s.m(e,null),o[13](e),f=!0},p(c,[m]){var p;const b={};m&1&&(b.content=c[0][1][0].clusterLabel),u.$set(b);const C={};m&1&&(C.content="Videos: "+((p=c[0][1])==null?void 0:p.length)),i.$set(C),c[4]?s?(s.p(c,m),m&16&&y(s,1)):(s=ne(c),s.c(),y(s,1),s.m(e,null)):s&&(j(),k(s,1,1,()=>{s=null}),N())},i(c){f||(y(n.$$.fragment,c),y(u.$$.fragment,c),y(i.$$.fragment,c),y(s),f=!0)},o(c){k(n.$$.fragment,c),k(u.$$.fragment,c),k(i.$$.fragment,c),k(s),f=!1},d(c){c&&g(e),U(n),U(u),U(i),s&&s.d(),o[13](null)}}}function ze(o,e,r){let{cluster:t}=e,n=!1,l=!1;const u=t[1].sort((p,M)=>p.rank-M.rank);let a;const i=(p,M)=>{window.matchMedia("(hover: hover)").matches&&(p!=null&&p.target?p.target.closest(".image-container").style.minWidth=`${p.target.clientWidth-1}px`:a.querySelectorAll(".image-container").forEach(V=>{V.removeAttribute("style")}))};let d=!1;me(()=>{let p;const M=()=>{const _=a.getBoundingClientRect();if(r(4,d=_.top<window.innerHeight&&_.bottom>=0),d){cancelAnimationFrame(p);return}p=requestAnimationFrame(M)};return M(),()=>{cancelAnimationFrame(p)}});const f=p=>{r(1,n=!0),r(2,l=p.name)},s=(p,M)=>i(M),h=(p,M)=>i(M),c=p=>i(),m=p=>i(),b=()=>{r(1,n=!1),r(2,l=!1)};function C(p){ke[p?"unshift":"push"](()=>{a=p,r(3,a)})}return o.$$set=p=>{"cluster"in p&&r(0,t=p.cluster)},[t,n,l,a,d,u,i,f,s,h,c,m,b,C]}class Be extends _e{constructor(e){super(),ge(this,e,ze,Pe,J,{cluster:0})}}const{document:Re}=qe;function ie(o,e,r){const t=o.slice();return t[16]=e[r],t[18]=r,t}function Qe(o){let e,r,t=o[2].length&&o[6]&&ce(o);return{c(){e=$("div"),t&&t.c(),this.h()},l(n){e=w(n,"DIV",{class:!0});var l=I(e);t&&t.l(l),l.forEach(g),this.h()},h(){v(e,"class","container p-s flex-col-start gap-s svelte-15scxqn")},m(n,l){q(n,e,l),t&&t.m(e,null),r=!0},p(n,l){n[2].length&&n[6]?t?(t.p(n,l),l&4&&y(t,1)):(t=ce(n),t.c(),y(t,1),t.m(e,null)):t&&(j(),k(t,1,1,()=>{t=null}),N())},i(n){r||(y(t),r=!0)},o(n){k(t),r=!1},d(n){n&&g(e),t&&t.d()}}}function We(o){let e,r="<p>No data available</p>";return{c(){e=$("div"),e.innerHTML=r,this.h()},l(t){e=w(t,"DIV",{class:!0,"data-svelte-h":!0}),pe(e)!=="svelte-kunnt3"&&(e.innerHTML=r),this.h()},h(){v(e,"class","container flex-center-center svelte-15scxqn")},m(t,n){q(t,e,n)},p:T,i:T,o:T,d(t){t&&g(e)}}}function Ge(o){let e,r="<p>Loading...</p>";return{c(){e=$("div"),e.innerHTML=r,this.h()},l(t){e=w(t,"DIV",{class:!0,"data-svelte-h":!0}),pe(e)!=="svelte-qdph03"&&(e.innerHTML=r),this.h()},h(){v(e,"class","container flex-center-center svelte-15scxqn")},m(t,n){q(t,e,n)},p:T,i:T,o:T,d(t){t&&g(e)}}}function ce(o){let e=[],r=new Map,t,n,l=R(o[2]);const u=a=>{var i;return`${a[18]}-${(i=a[16])==null?void 0:i[0]}`};for(let a=0;a<l.length;a+=1){let i=ie(o,l,a),d=u(i);r.set(d,e[a]=ue(d,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=B()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);t=B()},m(a,i){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(a,i);q(a,t,i),n=!0},p(a,i){i&4&&(l=R(a[2]),j(),e=be(e,i,u,1,a,l,r,t.parentNode,Me,ue,t,ie),N())},i(a){if(!n){for(let i=0;i<l.length;i+=1)y(e[i]);n=!0}},o(a){for(let i=0;i<e.length;i+=1)k(e[i]);n=!1},d(a){a&&g(t);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function ue(o,e){let r,t,n;return t=new Be({props:{cluster:e[16]}}),{key:o,first:null,c(){r=B(),H(t.$$.fragment),this.h()},l(l){r=B(),F(t.$$.fragment,l),this.h()},h(){this.first=r},m(l,u){q(l,r,u),O(t,l,u),n=!0},p(l,u){e=l;const a={};u&4&&(a.cluster=e[16]),t.$set(a)},i(l){n||(y(t.$$.fragment,l),n=!0)},o(l){k(t.$$.fragment,l),n=!1},d(l){l&&g(r),U(t,l)}}}function Ye(o){let e,r,t,n,l,u,a,i,d;t=new Ve({props:{queries:o[3],description:o[5]("description"),question:o[5]("research_question"),topic:ve,download:o[8]}});const f=[Ge,We,Qe],s=[];function h(c,m){var b;return c[1]?0:(b=c[0])!=null&&b.length?2:1}return l=h(o),u=s[l]=f[l](o),{c(){e=A(),r=$("div"),H(t.$$.fragment),n=A(),u.c(),this.h()},l(c){e=D(c),r=w(c,"DIV",{class:!0});var m=I(r);F(t.$$.fragment,m),n=D(m),u.l(m),m.forEach(g),this.h()},h(){v(r,"class","page xl:flex-start-start")},m(c,m){q(c,e,m),q(c,r,m),O(t,r,null),L(r,n),s[l].m(r,null),a=!0,i||(d=K(Se.call(null,Re.body,o[4])),i=!0)},p(c,[m]){let b=l;l=h(c),l===b?s[l].p(c,m):(j(),k(s[b],1,1,()=>{s[b]=null}),N(),u=s[l],u?u.p(c,m):(u=s[l]=f[l](c),u.c()),y(u,1),u.m(r,null))},i(c){a||(y(t.$$.fragment,c),y(u),a=!0)},o(c){k(t.$$.fragment,c),k(u),a=!1},d(c){c&&(g(e),g(r)),U(t),s[l].d(),i=!1,d()}}}const ve="youtube_clusters";function Je(o,e,r){let t,n,l,u,{data:a}=e;const{queries:i}=a,d=Ae(),f=Ee(ve);let s,h,c=!1,m=re("query");ee(o,m,_=>r(12,l=_));let b=re("lang");ee(o,b,_=>r(13,u=_)),me(async()=>{var _;await we(),l||te(m,l=(_=i[0])==null?void 0:_.query,l),u||te(b,u=t==null?void 0:t.code,u)});const C=`${fe}/assets/youtube`,p=async()=>{if(c||!Le||!n)return;if(r(1,c=!0),!l){r(1,c=!1),r(0,s=null);return}const{data:_,error:V}=await de({key:"youtube-comparison-data",url:n,type:"text"});_?r(0,s=he(_)):r(0,s=null),r(1,c=!1)},M=()=>{if(s!=null&&s.length){const S=[["title","link","cluster","query","language"],...s.map(E=>[E.label,`https://www.youtube.com/v/${E.name}`,E.clusterLabel,i.find(P=>P.query===l).queryLabel,E.language])].map(E=>E.join(",")).join(`
`);var _="data:text/csv;charset=utf-8,"+encodeURIComponent(S),V=document.createElement("a");V.setAttribute("href",_),V.setAttribute("download","my_data.csv"),document.body.appendChild(V),V.click()}};return o.$$set=_=>{"data"in _&&r(9,a=_.data)},o.$$.update=()=>{var _,V,Q;o.$$.dirty&8192&&r(11,t=((_=x)==null?void 0:_[u])||((V=x)==null?void 0:V.en)),o.$$.dirty&6144&&r(10,n=t!=null&&t.code?`${C}/clusters/${l}_${(Q=t==null?void 0:t.code)==null?void 0:Q.toUpperCase()}.csv`:void 0),o.$$.dirty&3&&r(2,h=s!=null&&s.length&&!c?Ie(s,S=>S.cluster).sort((S,W)=>{var E,P,X,Z;return S[0]==="other"?1:W[0]==="other"?-1:((P=(E=S[1])==null?void 0:E[0])==null?void 0:P.clusterLabel)>((Z=(X=W[1])==null?void 0:X[0])==null?void 0:Z.clusterLabel)?1:-1}):[]),o.$$.dirty&1024&&p()},[s,c,h,i,d,f,m,b,M,a,n,t,l,u]}class it extends _e{constructor(e){super(),ge(this,e,Je,Ye,J,{data:9})}}export{it as component,at as universal};
