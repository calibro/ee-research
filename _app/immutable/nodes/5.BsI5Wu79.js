import{s as F,d as K,n as R,e as le,o as nt,k as ye,E as ke,c as oe,F as xe}from"../chunks/scheduler.BvAkape9.js";import{S as W,i as B,e as N,m as G,s as L,x as D,c as P,a as C,n as J,d as $,f as T,y as M,q as v,g as O,h as A,z as S,k as y,l as x,F as ve,A as I,t as Ge,b as Je,j as Ke,H as Qe,o as Ze,p as ie,u as Y,v as ee,D as ae,K as rt,L as be,G as st,M as Ee,r as Q}from"../chunks/index.FHAnUYL_.js";import{e as H,u as lt,o as ot}from"../chunks/each.CV5-vln6.js";import{d as it,w as at,g as ut}from"../chunks/entry.B16pUayB.js";import{p as ft}from"../chunks/stores.vFmikySE.js";import{l as se,D as ct,g as ht,c as dt}from"../chunks/download.OcPKUvqC.js";import{T as z}from"../chunks/text.BNna8stv.js";import{g as Xe,L as Z,e as gt}from"../chunks/link.DKWNrPMa.js";import{b as pt}from"../chunks/tokens.DVXvbK2-.js";import{b as mt}from"../chunks/paths.CyXo6Sc3.js";const _t=!0,vt=_t;let Ye;Ye=ft;const $t={keepFocus:!0,noScroll:!0,replaceState:!0},wt={keepFocus:!0,noScroll:!0,replaceState:!1};function de(n,e,t=(r,s)=>JSON.stringify(r)===JSON.stringify(s)){return typeof n=="object"&&typeof e=="object"&&t(n,e)}const ge=new Set;let qe;const Ae=new Map,pe={encode:n=>n.toString(),decode:n=>n?n.toString():null};function ue(n,{encode:e=pe.encode,decode:t=pe.decode,defaultValue:r}=pe,{debounceHistory:s=0,pushHistory:l=!0,sort:o=!0,showDefaults:i=!0,equalityFn:a}={}){const u=at(null);let c=!0,h;function f(m,g){c=!1;const w=window.location.hash,V=E=>{if(m==null)E.delete(n);else{const _=e(m);_==null?E.delete(n):E.set(n,_)}};ge.add(V),clearTimeout(qe);const k=new URLSearchParams(window.location.search);qe=setTimeout(async()=>{ge.forEach(E=>{E(k)}),clearTimeout(Ae.get(n));{u.set(m);async function E(){o&&k.sort(),await ut(`?${k}${w}`,l?wt:$t),u.set(null)}g||s===0?E():Ae.set(n,setTimeout(E,s))}ge.clear()})}const{subscribe:p}=it([Ye,u],([m,g],w)=>{var E,_,d;if(g!=null)return de(h,g,a)?void 0:(h=structuredClone(g),w(g));const V=(d=(_=(E=m==null?void 0:m.url)==null?void 0:E.searchParams)==null?void 0:_.get)==null?void 0:d.call(_,n);if(V==null&&r!=null)return i&&f(r,c),de(h,r,a)?void 0:(h=structuredClone(r),w(r));const k=t(V);if(!de(h,k,a))return h=structuredClone(k),w(k)});return{set(m){f(m)},subscribe:p,update:m=>{const g=m(h);f(g)}}}class yt extends Map{constructor(e,t=bt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,s]of e)this.set(r,s)}get(e){return super.get(De(this,e))}has(e){return super.has(De(this,e))}set(e,t){return super.set(kt(this,e),t)}delete(e){return super.delete(xt(this,e))}}function De({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function kt({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function xt({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(t),n.delete(r)),t}function bt(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Me(n){return n}function Et(n,...e){return qt(n,Me,Me,e)}function qt(n,e,t,r){return function s(l,o){if(o>=r.length)return t(l);const i=new yt,a=r[o++];let u=-1;for(const c of l){const h=a(c,++u,l),f=i.get(h);f?f.push(c):i.set(h,[c])}for(const[c,h]of i)i.set(c,s(h,o));return e(i)}(n,0)}function At(n){var e=0,t=n.children,r=t&&t.length;if(!r)e=1;else for(;--r>=0;)e+=t[r].value;n.value=e}function Dt(){return this.eachAfter(At)}function Mt(n,e){let t=-1;for(const r of this)n.call(e,r,++t,this);return this}function St(n,e){for(var t=this,r=[t],s,l,o=-1;t=r.pop();)if(n.call(e,t,++o,this),s=t.children)for(l=s.length-1;l>=0;--l)r.push(s[l]);return this}function It(n,e){for(var t=this,r=[t],s=[],l,o,i,a=-1;t=r.pop();)if(s.push(t),l=t.children)for(o=0,i=l.length;o<i;++o)r.push(l[o]);for(;t=s.pop();)n.call(e,t,++a,this);return this}function jt(n,e){let t=-1;for(const r of this)if(n.call(e,r,++t,this))return r}function Ct(n){return this.eachAfter(function(e){for(var t=+n(e.data)||0,r=e.children,s=r&&r.length;--s>=0;)t+=r[s].value;e.value=t})}function Ot(n){return this.eachBefore(function(e){e.children&&e.children.sort(n)})}function Lt(n){for(var e=this,t=Tt(e,n),r=[e];e!==t;)e=e.parent,r.push(e);for(var s=r.length;n!==t;)r.splice(s,0,n),n=n.parent;return r}function Tt(n,e){if(n===e)return n;var t=n.ancestors(),r=e.ancestors(),s=null;for(n=t.pop(),e=r.pop();n===e;)s=n,n=t.pop(),e=r.pop();return s}function Nt(){for(var n=this,e=[n];n=n.parent;)e.push(n);return e}function Pt(){return Array.from(this)}function Ut(){var n=[];return this.eachBefore(function(e){e.children||n.push(e)}),n}function Vt(){var n=this,e=[];return n.each(function(t){t!==n&&e.push({source:t.parent,target:t})}),e}function*zt(){var n=this,e,t=[n],r,s,l;do for(e=t.reverse(),t=[];n=e.pop();)if(yield n,r=n.children)for(s=0,l=r.length;s<l;++s)t.push(r[s]);while(t.length)}function $e(n,e){n instanceof Map?(n=[void 0,n],e===void 0&&(e=Ft)):e===void 0&&(e=Ht);for(var t=new fe(n),r,s=[t],l,o,i,a;r=s.pop();)if((o=e(r.data))&&(a=(o=Array.from(o)).length))for(r.children=o,i=a-1;i>=0;--i)s.push(l=o[i]=new fe(o[i])),l.parent=r,l.depth=r.depth+1;return t.eachBefore(Bt)}function Rt(){return $e(this).eachBefore(Wt)}function Ht(n){return n.children}function Ft(n){return Array.isArray(n)?n[1]:null}function Wt(n){n.data.value!==void 0&&(n.value=n.data.value),n.data=n.data.data}function Bt(n){var e=0;do n.height=e;while((n=n.parent)&&n.height<++e)}function fe(n){this.data=n,this.depth=this.height=0,this.parent=null}fe.prototype=$e.prototype={constructor:fe,count:Dt,each:Mt,eachAfter:It,eachBefore:St,find:jt,sum:Ct,sort:Ot,path:Lt,ancestors:Nt,descendants:Pt,leaves:Ut,links:Vt,copy:Rt,[Symbol.iterator]:zt};function Gt(n){return n==null?null:Jt(n)}function Jt(n){if(typeof n!="function")throw new Error;return n}function Se(){return 0}function Kt(n){return function(){return n}}const Qt=1664525,Zt=1013904223,Ie=4294967296;function Xt(){let n=1;return()=>(n=(Qt*n+Zt)%Ie)/Ie}function Yt(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function en(n,e){let t=n.length,r,s;for(;t;)s=e()*t--|0,r=n[t],n[t]=n[s],n[s]=r;return n}function tn(n,e){for(var t=0,r=(n=en(Array.from(n),e)).length,s=[],l,o;t<r;)l=n[t],o&&et(o,l)?++t:(o=rn(s=nn(s,l)),t=0);return o}function nn(n,e){var t,r;if(me(e,n))return[e];for(t=0;t<n.length;++t)if(ne(e,n[t])&&me(X(n[t],e),n))return[n[t],e];for(t=0;t<n.length-1;++t)for(r=t+1;r<n.length;++r)if(ne(X(n[t],n[r]),e)&&ne(X(n[t],e),n[r])&&ne(X(n[r],e),n[t])&&me(tt(n[t],n[r],e),n))return[n[t],n[r],e];throw new Error}function ne(n,e){var t=n.r-e.r,r=e.x-n.x,s=e.y-n.y;return t<0||t*t<r*r+s*s}function et(n,e){var t=n.r-e.r+Math.max(n.r,e.r,1)*1e-9,r=e.x-n.x,s=e.y-n.y;return t>0&&t*t>r*r+s*s}function me(n,e){for(var t=0;t<e.length;++t)if(!et(n,e[t]))return!1;return!0}function rn(n){switch(n.length){case 1:return sn(n[0]);case 2:return X(n[0],n[1]);case 3:return tt(n[0],n[1],n[2])}}function sn(n){return{x:n.x,y:n.y,r:n.r}}function X(n,e){var t=n.x,r=n.y,s=n.r,l=e.x,o=e.y,i=e.r,a=l-t,u=o-r,c=i-s,h=Math.sqrt(a*a+u*u);return{x:(t+l+a/h*c)/2,y:(r+o+u/h*c)/2,r:(h+s+i)/2}}function tt(n,e,t){var r=n.x,s=n.y,l=n.r,o=e.x,i=e.y,a=e.r,u=t.x,c=t.y,h=t.r,f=r-o,p=r-u,m=s-i,g=s-c,w=a-l,V=h-l,k=r*r+s*s-l*l,E=k-o*o-i*i+a*a,_=k-u*u-c*c+h*h,d=p*m-f*g,b=(m*_-g*E)/(d*2)-r,q=(g*w-m*V)/d,j=(p*E-f*_)/(d*2)-s,U=(f*V-p*w)/d,ce=q*q+U*U-1,te=2*(l+b*q+j*U),we=b*b+j*j-l*l,he=-(Math.abs(ce)>1e-6?(te+Math.sqrt(te*te-4*ce*we))/(2*ce):we/te);return{x:r+b+q*he,y:s+j+U*he,r:he}}function je(n,e,t){var r=n.x-e.x,s,l,o=n.y-e.y,i,a,u=r*r+o*o;u?(l=e.r+t.r,l*=l,a=n.r+t.r,a*=a,l>a?(s=(u+a-l)/(2*u),i=Math.sqrt(Math.max(0,a/u-s*s)),t.x=n.x-s*r-i*o,t.y=n.y-s*o+i*r):(s=(u+l-a)/(2*u),i=Math.sqrt(Math.max(0,l/u-s*s)),t.x=e.x+s*r-i*o,t.y=e.y+s*o+i*r)):(t.x=e.x+t.r,t.y=e.y)}function Ce(n,e){var t=n.r+e.r-1e-6,r=e.x-n.x,s=e.y-n.y;return t>0&&t*t>r*r+s*s}function Oe(n){var e=n._,t=n.next._,r=e.r+t.r,s=(e.x*t.r+t.x*e.r)/r,l=(e.y*t.r+t.y*e.r)/r;return s*s+l*l}function re(n){this._=n,this.next=null,this.previous=null}function ln(n,e){if(!(l=(n=Yt(n)).length))return 0;var t,r,s,l,o,i,a,u,c,h,f;if(t=n[0],t.x=0,t.y=0,!(l>1))return t.r;if(r=n[1],t.x=-r.r,r.x=t.r,r.y=0,!(l>2))return t.r+r.r;je(r,t,s=n[2]),t=new re(t),r=new re(r),s=new re(s),t.next=s.previous=r,r.next=t.previous=s,s.next=r.previous=t;e:for(a=3;a<l;++a){je(t._,r._,s=n[a]),s=new re(s),u=r.next,c=t.previous,h=r._.r,f=t._.r;do if(h<=f){if(Ce(u._,s._)){r=u,t.next=r,r.previous=t,--a;continue e}h+=u._.r,u=u.next}else{if(Ce(c._,s._)){t=c,t.next=r,r.previous=t,--a;continue e}f+=c._.r,c=c.previous}while(u!==c.next);for(s.previous=t,s.next=r,t.next=r.previous=r=s,o=Oe(t);(s=s.next)!==r;)(i=Oe(s))<o&&(t=s,o=i);r=t.next}for(t=[r._],s=r;(s=s.next)!==r;)t.push(s._);for(s=tn(t,e),a=0;a<l;++a)t=n[a],t.x-=s.x,t.y-=s.y;return s.r}function on(n){return Math.sqrt(n.value)}function an(){var n=null,e=1,t=1,r=Se;function s(l){const o=Xt();return l.x=e/2,l.y=t/2,n?l.eachBefore(Le(n)).eachAfter(_e(r,.5,o)).eachBefore(Te(1)):l.eachBefore(Le(on)).eachAfter(_e(Se,1,o)).eachAfter(_e(r,l.r/Math.min(e,t),o)).eachBefore(Te(Math.min(e,t)/(2*l.r))),l}return s.radius=function(l){return arguments.length?(n=Gt(l),s):n},s.size=function(l){return arguments.length?(e=+l[0],t=+l[1],s):[e,t]},s.padding=function(l){return arguments.length?(r=typeof l=="function"?l:Kt(+l),s):r},s}function Le(n){return function(e){e.children||(e.r=Math.max(0,+n(e)||0))}}function _e(n,e,t){return function(r){if(s=r.children){var s,l,o=s.length,i=n(r)*e||0,a;if(i)for(l=0;l<o;++l)s[l].r+=i;if(a=ln(s,t),i)for(l=0;l<o;++l)s[l].r-=i;r.r=a+i}}}function Te(n){return function(e){var t=e.parent;e.r*=n,t&&(e.x=t.x+n*e.x,e.y=t.y+n*e.y)}}function Ne(n,e,t){const r=n.slice();return r[2]=e[t],r}function Pe(n){var f;let e,t,r,s,l,o,i=((f=n[2].data)==null?void 0:f.text)+"",a,u,c,h;return{c(){e=G("g"),t=G("circle"),o=G("text"),a=Ge(i),this.h()},l(p){e=J(p,"g",{});var m=C(e);t=J(m,"circle",{cx:!0,cy:!0,r:!0,class:!0}),C(t).forEach($),o=J(m,"text",{x:!0,y:!0,"text-anchor":!0,"dominant-baseline":!0,"font-size":!0,class:!0});var g=C(o);a=Je(g,i),g.forEach($),m.forEach($),this.h()},h(){v(t,"cx",r=n[2].x),v(t,"cy",s=n[2].y),v(t,"r",l=n[2].r),v(t,"class","svelte-12mhpz5"),v(o,"x",u=n[2].x),v(o,"y",c=n[2].y),v(o,"text-anchor","middle"),v(o,"dominant-baseline","middle"),v(o,"font-size",h=n[2].r/3),v(o,"class","svelte-12mhpz5")},m(p,m){O(p,e,m),A(e,t),A(e,o),A(o,a)},p(p,m){var g;m&1&&r!==(r=p[2].x)&&v(t,"cx",r),m&1&&s!==(s=p[2].y)&&v(t,"cy",s),m&1&&l!==(l=p[2].r)&&v(t,"r",l),m&1&&i!==(i=((g=p[2].data)==null?void 0:g.text)+"")&&Ke(a,i),m&1&&u!==(u=p[2].x)&&v(o,"x",u),m&1&&c!==(c=p[2].y)&&v(o,"y",c),m&1&&h!==(h=p[2].r/3)&&v(o,"font-size",h)},d(p){p&&$(e)}}}function un(n){let e,t,r,s,l,o,i=H(n[1](n[0],200,200)),a=[];for(let u=0;u<i.length;u+=1)a[u]=Pe(Ne(n,i,u));return l=new z({props:{typo:"p",content:n[0][1][0].clusterLabel,class:"px-m py-xs",ellipsis:!0}}),{c(){e=N("div"),t=G("svg");for(let u=0;u<a.length;u+=1)a[u].c();r=L(),s=N("div"),D(l.$$.fragment),this.h()},l(u){e=P(u,"DIV",{class:!0});var c=C(e);t=J(c,"svg",{width:!0,viewBox:!0,class:!0});var h=C(t);for(let p=0;p<a.length;p+=1)a[p].l(h);h.forEach($),r=T(c),s=P(c,"DIV",{class:!0});var f=C(s);M(l.$$.fragment,f),f.forEach($),c.forEach($),this.h()},h(){v(t,"width","100%"),v(t,"viewBox","0 0 200 200"),v(t,"class","ratio-square svelte-12mhpz5"),v(s,"class","title svelte-12mhpz5"),v(e,"class","circle-packing flex-col-center-start svelte-12mhpz5")},m(u,c){O(u,e,c),A(e,t);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(t,null);A(e,r),A(e,s),S(l,s,null),o=!0},p(u,[c]){if(c&3){i=H(u[1](u[0],200,200));let f;for(f=0;f<i.length;f+=1){const p=Ne(u,i,f);a[f]?a[f].p(p,c):(a[f]=Pe(p),a[f].c(),a[f].m(t,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=i.length}const h={};c&1&&(h.content=u[0][1][0].clusterLabel),l.$set(h)},i(u){o||(y(l.$$.fragment,u),o=!0)},o(u){x(l.$$.fragment,u),o=!1},d(u){u&&$(e),ve(a,u),I(l)}}}function fn(n,e,t){let{cluster:r}=e;const s=(l,o,i)=>{const a=an().size([o,i]).padding(5),u=$e(l,h=>Array.isArray(h)?h[1]:null).sum(h=>h.videosNumber),c=a(u).descendants();return c.shift(),c};return n.$$set=l=>{"cluster"in l&&t(0,r=l.cluster)},[r,s]}class cn extends W{constructor(e){super(),B(this,e,fn,un,F,{cluster:0})}}function hn(n){let e,t,r='<path d="M13 1L7 7L1 0.999999" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>',s=[{viewBox:"0 0 14 8"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},n[0]],l={};for(let o=0;o<s.length;o+=1)l=K(l,s[o]);return{c(){e=G("svg"),t=new Qe(!0),this.h()},l(o){e=J(o,"svg",{viewBox:!0,fill:!0,xmlns:!0});var i=C(e);t=Ze(i,!0),i.forEach($),this.h()},h(){t.a=null,ie(e,l)},m(o,i){O(o,e,i),t.m(r,e)},p(o,[i]){ie(e,l=Xe(s,[{viewBox:"0 0 14 8"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i&1&&o[0]]))},i:R,o:R,d(o){o&&$(e)}}}function dn(n,e,t){return n.$$set=r=>{t(0,e=K(K({},e),le(r)))},e=le(e),[e]}class gn extends W{constructor(e){super(),B(this,e,dn,hn,F,{})}}function Ue(n,e,t){const r=n.slice();return r[9]=e[t],r}function pn(n){var l,o;let e,t,r,s;return e=new z({props:{class:n[3]?"":"opacity-50",content:(l=n[1])!=null&&l.length?((o=n[3])==null?void 0:o.title)||"Select":"Loading...",typo:"p"}}),r=new gn({props:{width:12}}),{c(){D(e.$$.fragment),t=L(),D(r.$$.fragment)},l(i){M(e.$$.fragment,i),t=T(i),M(r.$$.fragment,i)},m(i,a){S(e,i,a),O(i,t,a),S(r,i,a),s=!0},p(i,a){var c,h;const u={};a&8&&(u.class=i[3]?"":"opacity-50"),a&10&&(u.content=(c=i[1])!=null&&c.length?((h=i[3])==null?void 0:h.title)||"Select":"Loading..."),e.$set(u)},i(i){s||(y(e.$$.fragment,i),y(r.$$.fragment,i),s=!0)},o(i){x(e.$$.fragment,i),x(r.$$.fragment,i),s=!1},d(i){i&&$(t),I(e,i),I(r,i)}}}function Ve(n){let e,t,r=H(n[1]),s=[];for(let o=0;o<r.length;o+=1)s[o]=ze(Ue(n,r,o));const l=o=>x(s[o],1,1,()=>{s[o]=null});return{c(){e=N("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=P(o,"DIV",{class:!0});var i=C(e);for(let a=0;a<s.length;a+=1)s[a].l(i);i.forEach($),this.h()},h(){v(e,"class","list scrollbar-hide svelte-rjfnlc"),ae(e,"show",n[2])},m(o,i){O(o,e,i);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(o,i){if(i&19){r=H(o[1]);let a;for(a=0;a<r.length;a+=1){const u=Ue(o,r,a);s[a]?(s[a].p(u,i),y(s[a],1)):(s[a]=ze(u),s[a].c(),y(s[a],1),s[a].m(e,null))}for(Y(),a=r.length;a<s.length;a+=1)l(a);ee()}(!t||i&4)&&ae(e,"show",o[2])},i(o){if(!t){for(let i=0;i<r.length;i+=1)y(s[i]);t=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)x(s[i]);t=!1},d(o){o&&$(e),ve(s,o)}}}function ze(n){let e,t;function r(){return n[7](n[9])}return e=new Z({props:{class:`button p-xs ${n[9].slug===n[0]?"selected":""}`,text:n[9].title,fn:r}}),{c(){D(e.$$.fragment)},l(s){M(e.$$.fragment,s)},m(s,l){S(e,s,l),t=!0},p(s,l){n=s;const o={};l&3&&(o.class=`button p-xs ${n[9].slug===n[0]?"selected":""}`),l&2&&(o.text=n[9].title),l&2&&(o.fn=r),e.$set(o)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){x(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function mn(n){var o;let e,t,r,s;t=new Z({props:{class:`dropdown-btn flex-btw-center p-xs ${n[2]?"active":""}`,fn:n[6],$$slots:{default:[pn]},$$scope:{ctx:n}}});let l=((o=n[1])==null?void 0:o.length)&&Ve(n);return{c(){e=N("div"),D(t.$$.fragment),r=L(),l&&l.c(),this.h()},l(i){e=P(i,"DIV",{class:!0,ref:!0});var a=C(e);M(t.$$.fragment,a),r=T(a),l&&l.l(a),a.forEach($),this.h()},h(){v(e,"class","dropdown svelte-rjfnlc"),v(e,"ref",n[5])},m(i,a){O(i,e,a),S(t,e,null),A(e,r),l&&l.m(e,null),s=!0},p(i,[a]){var c;const u={};a&4&&(u.class=`dropdown-btn flex-btw-center p-xs ${i[2]?"active":""}`),a&4&&(u.fn=i[6]),a&4106&&(u.$$scope={dirty:a,ctx:i}),t.$set(u),(c=i[1])!=null&&c.length?l?(l.p(i,a),a&2&&y(l,1)):(l=Ve(i),l.c(),y(l,1),l.m(e,null)):l&&(Y(),x(l,1,1,()=>{l=null}),ee())},i(i){s||(y(t.$$.fragment,i),y(l),s=!0)},o(i){x(t.$$.fragment,i),x(l),s=!1},d(i){i&&$(e),I(t),l&&l.d()}}}function _n(n,e,t){let r,{items:s}=e,{value:l=null}=e,o=!1;const i=f=>{t(0,l=f),t(2,o=!1)};let a;nt(()=>(document.addEventListener("click",u),()=>{document.removeEventListener("click",u)}));const u=f=>{f.target.closest(".dropdown")||t(2,o=!1)},c=()=>t(2,o=!o),h=f=>i(f.slug);return n.$$set=f=>{"items"in f&&t(1,s=f.items),"value"in f&&t(0,l=f.value)},n.$$.update=()=>{var f;n.$$.dirty&3&&t(3,r=(f=s==null?void 0:s.find)==null?void 0:f.call(s,p=>p.slug===l))},[l,s,o,r,i,a,c,h]}class vn extends W{constructor(e){super(),B(this,e,_n,mn,F,{items:1,value:0})}}function $n(n){let e,t,r='<path d="M2 2H32" stroke="currentColor" stroke-width="3" stroke-linecap="round"/><path d="M6 11H28" stroke="currentColor" stroke-width="3" stroke-linecap="round"/><path d="M11 20H23" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>',s=[{viewBox:"0 0 34 22"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},n[0]],l={};for(let o=0;o<s.length;o+=1)l=K(l,s[o]);return{c(){e=G("svg"),t=new Qe(!0),this.h()},l(o){e=J(o,"svg",{viewBox:!0,fill:!0,xmlns:!0});var i=C(e);t=Ze(i,!0),i.forEach($),this.h()},h(){t.a=null,ie(e,l)},m(o,i){O(o,e,i),t.m(r,e)},p(o,[i]){ie(e,l=Xe(s,[{viewBox:"0 0 34 22"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i&1&&o[0]]))},i:R,o:R,d(o){o&&$(e)}}}function wn(n,e,t){return n.$$set=r=>{t(0,e=K(K({},e),le(r)))},e=le(e),[e]}class yn extends W{constructor(e){super(),B(this,e,wn,$n,F,{})}}function Re(n,e,t){const r=n.slice();return r[5]=e[t].label,r[6]=e[t].code,r[7]=e[t].color,r}function He(n){let e,t,r,s=!1,l,o,i=n[5]+"",a,u,c,h,f,p,m;return f=rt(n[4][0]),{c(){e=N("input"),l=L(),o=N("label"),a=Ge(i),u=L(),this.h()},l(g){e=P(g,"INPUT",{class:!0,type:!0,id:!0}),l=T(g),o=P(g,"LABEL",{class:!0,for:!0,style:!0});var w=C(o);a=Je(w,i),u=T(w),w.forEach($),this.h()},h(){v(e,"class","sr-only svelte-1q0yvuu"),v(e,"type","radio"),v(e,"id",t=n[6]),e.__value=r=n[6],be(e,e.__value),v(o,"class","typo-small svelte-1q0yvuu"),v(o,"for",c=n[6]),v(o,"style",h=`--background: var(--color-${n[7]})`),f.p(e)},m(g,w){O(g,e,w),e.checked=e.__value===n[0],O(g,l,w),O(g,o,w),A(o,a),A(o,u),p||(m=st(e,"change",n[3]),p=!0)},p(g,w){w&2&&t!==(t=g[6])&&v(e,"id",t),w&2&&r!==(r=g[6])&&(e.__value=r,be(e,e.__value),s=!0),(s||w&3)&&(e.checked=e.__value===g[0]),w&2&&i!==(i=g[5]+"")&&Ke(a,i),w&2&&c!==(c=g[6])&&v(o,"for",c),w&2&&h!==(h=`--background: var(--color-${g[7]})`)&&v(o,"style",h)},d(g){g&&($(e),$(l),$(o)),f.r(),p=!1,m()}}}function kn(n){let e,t=H(n[1]),r=[];for(let s=0;s<t.length;s+=1)r[s]=He(Re(n,t,s));return{c(){e=N("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=P(s,"DIV",{role:!0,class:!0});var l=C(e);for(let o=0;o<r.length;o+=1)r[o].l(l);l.forEach($),this.h()},h(){v(e,"role","radiogroup"),v(e,"class","grid-2-xs l:flex flex-wrap items-center gap-xs")},m(s,l){O(s,e,l);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(s,[l]){if(l&3){t=H(s[1]);let o;for(o=0;o<t.length;o+=1){const i=Re(s,t,o);r[o]?r[o].p(i,l):(r[o]=He(i),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=t.length}},i:R,o:R,d(s){s&&$(e),ve(r,s)}}}function xn(n,e,t){let r,{items:s}=e,{value:l=null}=e;const o=[[]];function i(){l=this.__value,t(0,l)}return n.$$set=a=>{"items"in a&&t(2,s=a.items),"value"in a&&t(0,l=a.value)},n.$$.update=()=>{n.$$.dirty&4&&t(1,r=Array.isArray(s)?s:Object.values(s))},[l,r,s,i,o]}class bn extends W{constructor(e){super(),B(this,e,xn,kn,F,{items:2,value:0})}}function En(n){let e,t;return e=new yn({props:{height:"16"}}),{c(){D(e.$$.fragment)},l(r){M(e.$$.fragment,r)},m(r,s){S(e,r,s),t=!0},i(r){t||(y(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function qn(n){let e,t;return e=new z({props:{content:"Confirm",typo:"small"}}),{c(){D(e.$$.fragment)},l(r){M(e.$$.fragment,r)},m(r,s){S(e,r,s),t=!0},i(r){t||(y(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function An(n){let e,t,r,s;const l=[qn,En],o=[];function i(a,u){return a[1]?0:1}return e=i(n),t=o[e]=l[e](n),{c(){t.c(),r=Q()},l(a){t.l(a),r=Q()},m(a,u){o[e].m(a,u),O(a,r,u),s=!0},p(a,u){let c=e;e=i(a),e!==c&&(Y(),x(o[c],1,1,()=>{o[c]=null}),ee(),t=o[e],t||(t=o[e]=l[e](a),t.c()),y(t,1),t.m(r.parentNode,r))},i(a){s||(y(t),s=!0)},o(a){x(t),s=!1},d(a){a&&$(r),o[e].d(a)}}}function Dn(n){let e,t,r,s,l,o,i,a,u,c,h,f,p,m,g,w;r=new z({props:{typo:"label",content:"Query",class:"case-upper"}});function V(d){n[6](d)}let k={items:n[0]};n[2]!==void 0&&(k.value=n[2]),l=new vn({props:k}),ye.push(()=>Ee(l,"value",V)),u=new z({props:{typo:"label",content:"Language",class:"case-upper"}});function E(d){n[7](d)}let _={items:se};return n[3]!==void 0&&(_.value=n[3]),h=new bn({props:_}),ye.push(()=>Ee(h,"value",E)),g=new Z({props:{class:"button pointer-events-initial",fn:n[8],theme:"cta",$$slots:{default:[An]},$$scope:{ctx:n}}}),{c(){e=N("div"),t=N("div"),D(r.$$.fragment),s=L(),D(l.$$.fragment),i=L(),a=N("div"),D(u.$$.fragment),c=L(),D(h.$$.fragment),p=L(),m=N("div"),D(g.$$.fragment),this.h()},l(d){e=P(d,"DIV",{class:!0});var b=C(e);t=P(b,"DIV",{class:!0});var q=C(t);M(r.$$.fragment,q),s=T(q),M(l.$$.fragment,q),q.forEach($),i=T(b),a=P(b,"DIV",{class:!0});var j=C(a);M(u.$$.fragment,j),c=T(j),M(h.$$.fragment,j),j.forEach($),b.forEach($),p=T(d),m=P(d,"DIV",{class:!0});var U=C(m);M(g.$$.fragment,U),U.forEach($),this.h()},h(){v(t,"class","group flex flex-col gap-xs"),v(a,"class","group flex flex-col gap-xs"),v(e,"class","filters px-s py-m l:p-0 svelte-j7mje2"),ae(e,"show",n[1]),v(m,"class","cta pointer-events-none l:hidden svelte-j7mje2")},m(d,b){O(d,e,b),A(e,t),S(r,t,null),A(t,s),S(l,t,null),A(e,i),A(e,a),S(u,a,null),A(a,c),S(h,a,null),O(d,p,b),O(d,m,b),S(g,m,null),w=!0},p(d,[b]){const q={};b&1&&(q.items=d[0]),!o&&b&4&&(o=!0,q.value=d[2],ke(()=>o=!1)),l.$set(q);const j={};!f&&b&8&&(f=!0,j.value=d[3],ke(()=>f=!1)),h.$set(j),(!w||b&2)&&ae(e,"show",d[1]);const U={};b&2&&(U.fn=d[8]),b&514&&(U.$$scope={dirty:b,ctx:d}),g.$set(U)},i(d){w||(y(r.$$.fragment,d),y(l.$$.fragment,d),y(u.$$.fragment,d),y(h.$$.fragment,d),y(g.$$.fragment,d),w=!0)},o(d){x(r.$$.fragment,d),x(l.$$.fragment,d),x(u.$$.fragment,d),x(h.$$.fragment,d),x(g.$$.fragment,d),w=!1},d(d){d&&($(e),$(p),$(m)),I(r),I(l),I(u),I(h),I(g)}}}function Mn(n,e,t){let r,s,{queries:l}=e,o=ue("query"),i=ue("lang");oe(n,o,f=>t(2,r=f)),oe(n,i,f=>t(3,s=f));let a=!1;function u(f){r=f,o.set(r)}function c(f){s=f,i.set(s)}const h=()=>t(1,a=!a);return n.$$set=f=>{"queries"in f&&t(0,l=f.queries)},n.$$.update=()=>{n.$$.dirty&2&&document.body.classList.toggle("scroll-lock",a)},innerWidth>gt(pt.l)&&t(1,a=!1),[l,a,r,s,o,i,u,c,h]}class Sn extends W{constructor(e){super(),B(this,e,Mn,Dn,F,{queries:0})}}function In(n){let e,t,r,s;return e=new z({props:{typo:"small",content:"download data"}}),r=new ct({props:{width:"8"}}),{c(){D(e.$$.fragment),t=L(),D(r.$$.fragment)},l(l){M(e.$$.fragment,l),t=T(l),M(r.$$.fragment,l)},m(l,o){S(e,l,o),O(l,t,o),S(r,l,o),s=!0},p:R,i(l){s||(y(e.$$.fragment,l),y(r.$$.fragment,l),s=!0)},o(l){x(e.$$.fragment,l),x(r.$$.fragment,l),s=!1},d(l){l&&$(t),I(e,l),I(r,l)}}}function jn(n){let e,t;return e=new z({props:{typo:"small",content:"view protocol"}}),{c(){D(e.$$.fragment)},l(r){M(e.$$.fragment,r)},m(r,s){S(e,r,s),t=!0},p:R,i(r){t||(y(e.$$.fragment,r),t=!0)},o(r){x(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function Cn(n){let e,t,r,s,l,o,i,a,u,c,h,f,p,m,g,w,V,k,E;return r=new z({props:{typo:"h2",content:"Looking at pollution on stock photos platforms"}}),o=new z({props:{typo:"label",content:"WHAT AM I LOOKING AT?"}}),a=new z({props:{typo:"p",content:"Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Donec id elit non mi porta gravida at eget metus."}}),c=new Sn({props:{queries:n[0]}}),p=new z({props:{typo:"label",content:"Resources",class:"case-upper"}}),w=new Z({props:{url:n[1],theme:"download",class:"flex gap-xxs items-center",$$slots:{default:[In]},$$scope:{ctx:n}}}),k=new Z({props:{url:n[1],theme:"download",class:"flex gap-xs items-center",$$slots:{default:[jn]},$$scope:{ctx:n}}}),{c(){e=N("div"),t=N("div"),D(r.$$.fragment),s=L(),l=N("div"),D(o.$$.fragment),i=L(),D(a.$$.fragment),u=L(),D(c.$$.fragment),h=L(),f=N("div"),D(p.$$.fragment),m=L(),g=N("div"),D(w.$$.fragment),V=L(),D(k.$$.fragment),this.h()},l(_){e=P(_,"DIV",{class:!0});var d=C(e);t=P(d,"DIV",{class:!0});var b=C(t);M(r.$$.fragment,b),b.forEach($),s=T(d),l=P(d,"DIV",{class:!0});var q=C(l);M(o.$$.fragment,q),i=T(q),M(a.$$.fragment,q),q.forEach($),u=T(d),M(c.$$.fragment,d),h=T(d),f=P(d,"DIV",{class:!0});var j=C(f);M(p.$$.fragment,j),m=T(j),g=P(j,"DIV",{class:!0});var U=C(g);M(w.$$.fragment,U),V=T(U),M(k.$$.fragment,U),U.forEach($),j.forEach($),d.forEach($),this.h()},h(){v(t,"class","group"),v(l,"class","group flex flex-col gap-xs"),v(g,"class","flex gap-xs"),v(f,"class","group flex flex-col gap-xs"),v(e,"class","sidebar flex flex-col gap-l py-m px-s svelte-fvv8ff")},m(_,d){O(_,e,d),A(e,t),S(r,t,null),A(e,s),A(e,l),S(o,l,null),A(l,i),S(a,l,null),A(e,u),S(c,e,null),A(e,h),A(e,f),S(p,f,null),A(f,m),A(f,g),S(w,g,null),A(g,V),S(k,g,null),E=!0},p(_,[d]){const b={};d&1&&(b.queries=_[0]),c.$set(b);const q={};d&2&&(q.url=_[1]),d&4&&(q.$$scope={dirty:d,ctx:_}),w.$set(q);const j={};d&2&&(j.url=_[1]),d&4&&(j.$$scope={dirty:d,ctx:_}),k.$set(j)},i(_){E||(y(r.$$.fragment,_),y(o.$$.fragment,_),y(a.$$.fragment,_),y(c.$$.fragment,_),y(p.$$.fragment,_),y(w.$$.fragment,_),y(k.$$.fragment,_),E=!0)},o(_){x(r.$$.fragment,_),x(o.$$.fragment,_),x(a.$$.fragment,_),x(c.$$.fragment,_),x(p.$$.fragment,_),x(w.$$.fragment,_),x(k.$$.fragment,_),E=!1},d(_){_&&$(e),I(r),I(o),I(a),I(c),I(p),I(w),I(k)}}}function On(n,e,t){let{queries:r}=e,{dataUrl:s}=e;return n.$$set=l=>{"queries"in l&&t(0,r=l.queries),"dataUrl"in l&&t(1,s=l.dataUrl)},[r,s]}class Ln extends W{constructor(e){super(),B(this,e,On,Cn,F,{queries:0,dataUrl:1})}}function Fe(n,e,t){const r=n.slice();return r[15]=e[t],r[17]=t,r}function We(n){let e=[],t=new Map,r,s,l=H(n[4]);const o=i=>{var a;return`${i[1]}-${i[2]}-${i[17]}-${(a=i[15])==null?void 0:a[0]}`};for(let i=0;i<l.length;i+=1){let a=Fe(n,l,i),u=o(a);t.set(u,e[i]=Be(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();r=Q()},l(i){for(let a=0;a<e.length;a+=1)e[a].l(i);r=Q()},m(i,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(i,a);O(i,r,a),s=!0},p(i,a){a&278&&(l=H(i[4]),Y(),e=lt(e,a,o,1,i,l,t,r.parentNode,ot,Be,r,Fe),ee())},i(i){if(!s){for(let a=0;a<l.length;a+=1)y(e[a]);s=!0}},o(i){for(let a=0;a<e.length;a+=1)x(e[a]);s=!1},d(i){i&&$(r);for(let a=0;a<e.length;a+=1)e[a].d(i)}}}function Tn(n){let e,t,r;return e=new cn({props:{cluster:n[15]}}),{c(){D(e.$$.fragment),t=L()},l(s){M(e.$$.fragment,s),t=T(s)},m(s,l){S(e,s,l),O(s,t,l),r=!0},p(s,l){const o={};l&16&&(o.cluster=s[15]),e.$set(o)},i(s){r||(y(e.$$.fragment,s),r=!0)},o(s){x(e.$$.fragment,s),r=!1},d(s){s&&$(t),I(e,s)}}}function Be(n,e){let t,r,s;return r=new Z({props:{url:e[8](e[15]),class:"contents",$$slots:{default:[Tn]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=Q(),D(r.$$.fragment),this.h()},l(l){t=Q(),M(r.$$.fragment,l),this.h()},h(){this.first=t},m(l,o){O(l,t,o),S(r,l,o),s=!0},p(l,o){e=l;const i={};o&16&&(i.url=e[8](e[15])),o&262160&&(i.$$scope={dirty:o,ctx:e}),r.$set(i)},i(l){s||(y(r.$$.fragment,l),s=!0)},o(l){x(r.$$.fragment,l),s=!1},d(l){l&&$(t),I(r,l)}}}function Nn(n){let e,t,r,s,l;t=new Ln({props:{queries:n[3],dataUrl:n[5]}});let o=n[0]&&We(n);return{c(){e=N("div"),D(t.$$.fragment),r=L(),s=N("div"),o&&o.c(),this.h()},l(i){e=P(i,"DIV",{class:!0});var a=C(e);M(t.$$.fragment,a),r=T(a),s=P(a,"DIV",{class:!0});var u=C(s);o&&o.l(u),u.forEach($),a.forEach($),this.h()},h(){v(s,"class","container p-s grid-1-s s:grid-2-s xl:grid-3-s xxl:grid-4-s svelte-rjtclb"),v(e,"class","page l:flex-start-start")},m(i,a){O(i,e,a),S(t,e,null),A(e,r),A(e,s),o&&o.m(s,null),l=!0},p(i,[a]){const u={};a&8&&(u.queries=i[3]),a&32&&(u.dataUrl=i[5]),t.$set(u),i[0]?o?(o.p(i,a),a&1&&y(o,1)):(o=We(i),o.c(),y(o,1),o.m(s,null)):o&&(Y(),x(o,1,1,()=>{o=null}),ee())},i(i){l||(y(t.$$.fragment,i),y(o),l=!0)},o(i){x(t.$$.fragment,i),x(o),l=!1},d(i){i&&$(e),I(t),o&&o.d()}}}function Pn(n,e,t){let r,s,l,o,i,a,u,c,h,f,p=!1,m=ue("query");oe(n,m,k=>t(1,u=k));let g=ue("lang");oe(n,g,k=>t(2,c=k));const w=async(k=(E=>(E=Object.keys(se))==null?void 0:E[0])())=>{var b;if(p||!vt)return;p=!0;const{data:_,error:d}=await ht({key:`tiktok-${k}-data`,url:i,type:"text"});_?(t(9,f=dt(_)),h!=null&&h.length||(t(3,h=[]),f.forEach(q=>{h.find(j=>j.slug===q.querySlug)||h.push({slug:q.querySlug,title:q.query})}),u||xe(m,u=(b=h[0])==null?void 0:b.slug,u),c||xe(g,c=k,c))):t(9,f=null),p=!1},V=k=>{const E=k==null?void 0:k[0];return`/tiktok/${c}/${u}/${E}`};return n.$$.update=()=>{var k,E,_;n.$$.dirty&518&&t(0,r=(f==null?void 0:f.length)&&u&&c),n.$$.dirty&4&&t(11,s=((k=se)==null?void 0:k[c])||((E=se)==null?void 0:E.us)),n.$$.dirty&514&&t(10,l=(_=f==null?void 0:f.filter)==null?void 0:_.call(f,d=>(d==null?void 0:d.querySlug)===u)),n.$$.dirty&2048&&t(12,o=`${mt}/tiktokAssets/${s==null?void 0:s.code}`),n.$$.dirty&6144&&t(5,i=s?`${o}/clusters_${s.code}.csv`:null),n.$$.dirty&2048&&w(s==null?void 0:s.code),n.$$.dirty&1025&&t(4,a=r?Et(l,d=>d.cluster):[])},[r,u,c,h,a,i,m,g,V,f,l,s,o]}class Kn extends W{constructor(e){super(),B(this,e,Pn,Nn,F,{})}}export{Kn as component};
