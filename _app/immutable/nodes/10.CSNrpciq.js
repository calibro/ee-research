import{b as ue}from"../chunks/entry.BYx2dz8_.js";import{g as fe,c as he,l as Z}from"../chunks/index.BWSmiydm.js";import{s as R,e as $,a as C,c as w,b as V,g as D,f as g,p as k,i as q,h as E,E as me,S as W,B as P,z as ke,A as Q,O as ye,L as ve,k as x,Q as $e,U as ee,V as de,n as L,F as z}from"../chunks/scheduler.DjmlZpBi.js";import{S as _e,i as pe,c as S,b as T,m as A,t as y,g as F,a as v,f as O,d as H}from"../chunks/index.D5mPgV2_.js";import{e as B,u as ge,d as we,o as qe}from"../chunks/each.K9NGHkqs.js";import{S as Me,q as te,g as Ve,a as Ee,b as Ie}from"../chunks/sidebar.DHi-AM2B.js";import{l as Ce,c as De}from"../chunks/lockscroll.Cg2o2WNp.js";import{s as Le,h as Se}from"../chunks/customSwipe.-5bGPq0K.js";import{M as Te}from"../chunks/modal.D5Qts77n.js";import{T as j}from"../chunks/text.DH_QAwnB.js";const Ae=!1,He=!0,Fe=!1;async function Oe({params:a,fetch:e}){const r=`${ue}/assets/youtube/queries.csv`,{data:t,error:n}=await fe({key:"youtube-queries",url:r,type:"text"},e);if(!t||n)return console.error("error",n),n(404,"Not found");const l=he(t);return l.sort((u,o)=>u.queryLabel.localeCompare(o.queryLabel)),{queries:l}}const lt=Object.freeze(Object.defineProperty({__proto__:null,csr:He,load:Oe,prerender:Ae,ssr:Fe},Symbol.toStringTag,{value:"Module"}));function re(a,e,r){const t=a.slice();return t[14]=e[r],t[16]=r,t}function le(a){let e,r=[],t=new Map,n,l,u,o,i=B(a[5]);const h=s=>`${s[14].id}-${s[0][0]}-${s[16]}`;for(let s=0;s<i.length;s+=1){let m=re(a,i,s),c=h(m);t.set(c,r[s]=se(c,m))}let f=a[1]&&oe(a);return{c(){e=$("div");for(let s=0;s<r.length;s+=1)r[s].c();n=C(),f&&f.c(),this.h()},l(s){e=w(s,"DIV",{class:!0});var m=V(e);for(let c=0;c<r.length;c+=1)r[c].l(m);n=D(m),f&&f.l(m),m.forEach(g),this.h()},h(){k(e,"class","images col-[span-9] xl:col-[span-7] scrollbar-hide scroll-container svelte-10td8ff")},m(s,m){q(s,e,m);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);E(e,n),f&&f.m(e,null),l=!0,u||(o=W(Le.call(null,e)),u=!0)},p(s,m){m&103&&(i=B(s[5]),r=ge(r,m,h,1,s,i,t,e,we,se,n,re)),s[1]?f?(f.p(s,m),m&2&&y(f,1)):(f=oe(s),f.c(),y(f,1),f.m(e,null)):f&&(F(),v(f,1,1,()=>{f=null}),O())},i(s){l||(y(f),l=!0)},o(s){v(f),l=!1},d(s){s&&g(e);for(let m=0;m<r.length;m+=1)r[m].d();f&&f.d(),u=!1,o()}}}function ne(a){let e,r,t,n,l;function u(){return a[7](a[14])}return{c(){e=$("img"),this.h()},l(o){e=w(o,"IMG",{src:!0,alt:!0,loading:!0,draggable:!0}),this.h()},h(){Q(e.src,r=a[14].thumb)||k(e,"src",r),k(e,"alt",a[14].title),k(e,"loading","lazy"),k(e,"draggable","false")},m(o,i){q(o,e,i),n||(l=W(t=Se.call(null,e,{fn:u})),n=!0)},p(o,i){a=o,t&&ve(t.update)&&i&6&&t.update.call(null,{fn:u})},d(o){o&&g(e),n=!1,l()}}}function se(a,e){let r,t=`${e[14].name}-${e[0][0]}-${e[16]}`,n,l,u=ne(e);function o(...h){return e[8](e[16],...h)}function i(...h){return e[9](e[16],...h)}return{key:a,first:null,c(){r=$("button"),u.c(),this.h()},l(h){r=w(h,"BUTTON",{class:!0,tabindex:!0});var f=V(r);u.l(f),f.forEach(g),this.h()},h(){k(r,"class","image-container svelte-10td8ff"),k(r,"tabindex","0"),this.first=r},m(h,f){q(h,r,f),u.m(r,null),n||(l=[P(r,"mouseover",o),P(r,"focus",i),P(r,"mouseout",e[10]),P(r,"blur",e[11])],n=!0)},p(h,f){e=h,f&1&&R(t,t=`${e[14].name}-${e[0][0]}-${e[16]}`)?(u.d(1),u=ne(e),u.c(),u.m(r,null)):u.p(e,f)},d(h){h&&g(r),u.d(h),n=!1,ke(l)}}}function oe(a){let e,r;return e=new Te({props:{theme:"no-bg",fn:a[12],$$slots:{default:[Ue]},$$scope:{ctx:a}}}),{c(){S(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,n){A(e,t,n),r=!0},p(t,n){const l={};n&6&&(l.fn=t[12]),n&131076&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function Ue(a){let e,r,t;return{c(){e=$("div"),r=$("iframe"),this.h()},l(n){e=w(n,"DIV",{});var l=V(e);r=w(l,"IFRAME",{width:!0,height:!0,src:!0,title:!0,frameborder:!0,allow:!0}),V(r).forEach(g),l.forEach(g),this.h()},h(){k(r,"width","560"),k(r,"height","315"),Q(r.src,t="https://www.youtube.com/embed/"+a[2])||k(r,"src",t),k(r,"title",""),k(r,"frameborder","0"),k(r,"allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),r.allowFullscreen=!0},m(n,l){q(n,e,l),E(e,r)},p(n,l){l&4&&!Q(r.src,t="https://www.youtube.com/embed/"+n[2])&&k(r,"src",t)},d(n){n&&g(e)}}}function Ne(a){var m;let e,r,t,n,l,u,o,i,h,f;n=new j({props:{typo:"label",content:"Cluster",class:"case-upper"}}),u=new j({props:{typo:"h3",content:a[0][1][0].clusterLabel,class:"mb-xs"}}),i=new j({props:{typo:"label",content:"Videos: "+((m=a[0][1])==null?void 0:m.length),class:"case-upper"}});let s=a[4]&&le(a);return{c(){e=$("div"),r=$("div"),t=$("div"),S(n.$$.fragment),l=C(),S(u.$$.fragment),o=C(),S(i.$$.fragment),h=C(),s&&s.c(),this.h()},l(c){e=w(c,"DIV",{class:!0});var d=V(e);r=w(d,"DIV",{class:!0});var b=V(r);t=w(b,"DIV",{});var M=V(t);T(n.$$.fragment,M),l=D(M),T(u.$$.fragment,M),M.forEach(g),o=D(b),T(i.$$.fragment,b),b.forEach(g),h=D(d),s&&s.l(d),d.forEach(g),this.h()},h(){k(r,"class","col-[span-9] xl:col-[span-2] flex-btw-start xl:flex-col-btw-start p-s"),k(e,"class","getty grid-9-gap svelte-10td8ff")},m(c,d){q(c,e,d),E(e,r),E(r,t),A(n,t,null),E(t,l),A(u,t,null),E(r,o),A(i,r,null),E(e,h),s&&s.m(e,null),a[13](e),f=!0},p(c,[d]){var _;const b={};d&1&&(b.content=c[0][1][0].clusterLabel),u.$set(b);const M={};d&1&&(M.content="Videos: "+((_=c[0][1])==null?void 0:_.length)),i.$set(M),c[4]?s?(s.p(c,d),d&16&&y(s,1)):(s=le(c),s.c(),y(s,1),s.m(e,null)):s&&(F(),v(s,1,1,()=>{s=null}),O())},i(c){f||(y(n.$$.fragment,c),y(u.$$.fragment,c),y(i.$$.fragment,c),y(s),f=!0)},o(c){v(n.$$.fragment,c),v(u.$$.fragment,c),v(i.$$.fragment,c),v(s),f=!1},d(c){c&&g(e),H(n),H(u),H(i),s&&s.d(),a[13](null)}}}function Pe(a,e,r){let{cluster:t}=e,n=!1,l=!1;const u=t[1].sort((_,p)=>_.rank-p.rank);let o;const i=(_,p)=>{window.matchMedia("(hover: hover)").matches&&(_!=null&&_.target?_.target.closest(".image-container").style.minWidth=`${_.target.clientWidth-1}px`:o.querySelectorAll(".image-container").forEach(U=>{U.removeAttribute("style")}))};let h=!1;me(()=>{let _;const p=()=>{const I=o.getBoundingClientRect();if(r(4,h=I.top<window.innerHeight&&I.bottom>=0),h){cancelAnimationFrame(_);return}_=requestAnimationFrame(p)};return p(),()=>{cancelAnimationFrame(_)}});const f=_=>{r(1,n=!0),r(2,l=_.name)},s=(_,p)=>i(p),m=(_,p)=>i(p),c=_=>i(),d=_=>i(),b=()=>{r(1,n=!1),r(2,l=!1)};function M(_){ye[_?"unshift":"push"](()=>{o=_,r(3,o)})}return a.$$set=_=>{"cluster"in _&&r(0,t=_.cluster)},[t,n,l,o,h,u,i,f,s,m,c,d,b,M]}class ze extends _e{constructor(e){super(),pe(this,e,Pe,Ne,R,{cluster:0})}}function ae(a,e,r){const t=a.slice();return t[15]=e[r],t[17]=r,t}function Be(a){let e,r,t=a[3].length&&a[7]&&ie(a);return{c(){e=$("div"),t&&t.c(),this.h()},l(n){e=w(n,"DIV",{class:!0});var l=V(e);t&&t.l(l),l.forEach(g),this.h()},h(){k(e,"class","container p-s flex-col-start gap-s svelte-15scxqn")},m(n,l){q(n,e,l),t&&t.m(e,null),r=!0},p(n,l){n[3].length&&n[7]?t?(t.p(n,l),l&8&&y(t,1)):(t=ie(n),t.c(),y(t,1),t.m(e,null)):t&&(F(),v(t,1,1,()=>{t=null}),O())},i(n){r||(y(t),r=!0)},o(n){v(t),r=!1},d(n){n&&g(e),t&&t.d()}}}function je(a){let e,r="<p>No data available</p>";return{c(){e=$("div"),e.innerHTML=r,this.h()},l(t){e=w(t,"DIV",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-kunnt3"&&(e.innerHTML=r),this.h()},h(){k(e,"class","container flex-center-center svelte-15scxqn")},m(t,n){q(t,e,n)},p:L,i:L,o:L,d(t){t&&g(e)}}}function Qe(a){let e,r="<p>Loading...</p>";return{c(){e=$("div"),e.innerHTML=r,this.h()},l(t){e=w(t,"DIV",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-qdph03"&&(e.innerHTML=r),this.h()},h(){k(e,"class","container flex-center-center svelte-15scxqn")},m(t,n){q(t,e,n)},p:L,i:L,o:L,d(t){t&&g(e)}}}function ie(a){let e=[],r=new Map,t,n,l=B(a[3]);const u=o=>{var i;return`${o[17]}-${(i=o[15])==null?void 0:i[0]}`};for(let o=0;o<l.length;o+=1){let i=ae(a,l,o),h=u(i);r.set(h,e[o]=ce(h,i))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=z()},l(o){for(let i=0;i<e.length;i+=1)e[i].l(o);t=z()},m(o,i){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(o,i);q(o,t,i),n=!0},p(o,i){i&12&&(l=B(o[3]),F(),e=ge(e,i,u,1,o,l,r,t.parentNode,qe,ce,t,ae),O())},i(o){if(!n){for(let i=0;i<l.length;i+=1)y(e[i]);n=!0}},o(o){for(let i=0;i<e.length;i+=1)v(e[i]);n=!1},d(o){o&&g(t);for(let i=0;i<e.length;i+=1)e[i].d(o)}}}function ce(a,e){let r,t,n;return t=new ze({props:{cluster:e[15],query:e[2]}}),{key:a,first:null,c(){r=z(),S(t.$$.fragment),this.h()},l(l){r=z(),T(t.$$.fragment,l),this.h()},h(){this.first=r},m(l,u){q(l,r,u),A(t,l,u),n=!0},p(l,u){e=l;const o={};u&8&&(o.cluster=e[15]),u&4&&(o.query=e[2]),t.$set(o)},i(l){n||(y(t.$$.fragment,l),n=!0)},o(l){v(t.$$.fragment,l),n=!1},d(l){l&&g(r),H(t,l)}}}function Re(a){let e,r,t,n,l,u,o,i,h;t=new Me({props:{queries:a[4],description:a[6]("description"),question:a[6]("research_question"),topic:be}});const f=[Qe,je,Be],s=[];function m(c,d){var b;return c[1]?0:(b=c[0])!=null&&b.length?2:1}return l=m(a),u=s[l]=f[l](a),{c(){e=C(),r=$("div"),S(t.$$.fragment),n=C(),u.c(),this.h()},l(c){e=D(c),r=w(c,"DIV",{class:!0});var d=V(r);T(t.$$.fragment,d),n=D(d),u.l(d),d.forEach(g),this.h()},h(){k(r,"class","page xl:flex-start-start")},m(c,d){q(c,e,d),q(c,r,d),A(t,r,null),E(r,n),s[l].m(r,null),o=!0,i||(h=W(Ce.call(null,document.body,a[5])),i=!0)},p(c,[d]){let b=l;l=m(c),l===b?s[l].p(c,d):(F(),v(s[b],1,1,()=>{s[b]=null}),O(),u=s[l],u?u.p(c,d):(u=s[l]=f[l](c),u.c()),y(u,1),u.m(r,null))},i(c){o||(y(t.$$.fragment,c),y(u),o=!0)},o(c){v(t.$$.fragment,c),v(u),o=!1},d(c){c&&(g(e),g(r)),H(t),s[l].d(),i=!1,h()}}}const be="youtube_clusters";function We(a,e,r){let t,n,l,u,{data:o}=e;const{queries:i}=o,h=De(),f=Ve(be);let s,m,c=!1,d=te("query");x(a,d,p=>r(2,l=p));let b=te("lang");x(a,b,p=>r(12,u=p)),me(async()=>{var p;await $e(),l||ee(d,l=(p=i[0])==null?void 0:p.query,l),u||ee(b,u=t==null?void 0:t.code,u)});const M=`${ue}/assets/youtube`,_=async()=>{if(c||!Ie||!n)return;if(r(1,c=!0),!l){r(1,c=!1),r(0,s=null);return}const{data:p,error:I}=await fe({key:"youtube-comparison-data",url:n,type:"text"});p?r(0,s=he(p)):r(0,s=null),r(1,c=!1)};return a.$$set=p=>{"data"in p&&r(9,o=p.data)},a.$$.update=()=>{var p,I,U;a.$$.dirty&4096&&r(11,t=((p=Z)==null?void 0:p[u])||((I=Z)==null?void 0:I.en)),a.$$.dirty&2052&&r(10,n=t!=null&&t.code?`${M}/clusters/${l}_${(U=t==null?void 0:t.code)==null?void 0:U.toUpperCase()}.csv`:void 0),a.$$.dirty&3&&r(3,m=s!=null&&s.length&&!c?Ee(s,N=>N.cluster).sort((N,G)=>{var Y,J,K,X;return N[0]==="other"?1:G[0]==="other"?-1:((J=(Y=N[1])==null?void 0:Y[0])==null?void 0:J.clusterLabel)>((X=(K=G[1])==null?void 0:K[0])==null?void 0:X.clusterLabel)?1:-1}):[]),a.$$.dirty&1024&&_()},[s,c,l,m,i,h,f,d,b,o,n,t,u]}class nt extends _e{constructor(e){super(),pe(this,e,We,Re,R,{data:9})}}export{nt as component,lt as universal};
