import{b as de}from"../chunks/entry.COMrkacz.js";import{g as Se,c as Ne}from"../chunks/index.BWSmiydm.js";import{s as ne,q as _e,r as Ue,H as Ae,v as Qe,b as E,w as Re,f as $,x as qe,i as j,n as P,y as Ie,e as q,a as M,c as I,g as S,p as w,h as v,A as se,a9 as Ze,L as ze,B as Oe,T as Be,k as He,F as De,S as Fe,E as Ke,U as Je,V as je}from"../chunks/scheduler.DjmlZpBi.js";import{S as le,i as ae,c as x,b as L,m as T,t as k,a as D,d as C,g as ge,f as me}from"../chunks/index.D5mPgV2_.js";import{e as re,u as We,d as Xe}from"../chunks/each.K9NGHkqs.js";import{S as Ye,q as et,g as tt,a as st,b as rt}from"../chunks/sidebar.DvQq3ExQ.js";import{l as nt,c as lt}from"../chunks/lockscroll.BhoOIQDF.js";import{n as at}from"../chunks/stores.CiofdzlK.js";import{g as ot}from"../chunks/spread.CN4WR7uZ.js";import{L as Ge}from"../chunks/link.cl7uhYL1.js";import{T as H}from"../chunks/text.DH_QAwnB.js";import{C as ct}from"../chunks/close.DhimUgka.js";const it=!1,ut=!0,ft=!1;async function gt({params:l,fetch:e}){const s=`${de}/assets/gettyimages/queries.csv`,{data:t,error:r}=await Se({key:"gettyimages-queries",url:s,type:"text"},e);if(!t||r)return console.error("error",r),r(404,"Not found");const c=Ne(t);return c.sort((n,f)=>n.queryLabel.localeCompare(f.queryLabel)),{queries:c}}const zt=Object.freeze(Object.defineProperty({__proto__:null,csr:ut,load:gt,prerender:it,ssr:ft},Symbol.toStringTag,{value:"Module"}));function mt(l){let e,s,t='<path d="M31.8536 21.3536C32.0488 21.1583 32.0488 20.8417 31.8536 20.6464L28.6716 17.4645C28.4763 17.2692 28.1597 17.2692 27.9645 17.4645C27.7692 17.6597 27.7692 17.9763 27.9645 18.1716L30.7929 21L27.9645 23.8284C27.7692 24.0237 27.7692 24.3403 27.9645 24.5355C28.1597 24.7308 28.4763 24.7308 28.6716 24.5355L31.8536 21.3536ZM10.5 21.5L31.5 21.5L31.5 20.5L10.5 20.5L10.5 21.5Z" fill="black"/><circle cx="21" cy="21" r="20.5" stroke="black"/>',r=[{viewBox:"0 0 42 42"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},l[0]],c={};for(let n=0;n<r.length;n+=1)c=_e(c,r[n]);return{c(){e=Ue("svg"),s=new Ae(!0),this.h()},l(n){e=Qe(n,"svg",{viewBox:!0,fill:!0,xmlns:!0});var f=E(e);s=Re(f,!0),f.forEach($),this.h()},h(){s.a=null,qe(e,c)},m(n,f){j(n,e,f),s.m(t,e)},p(n,[f]){qe(e,c=ot(r,[{viewBox:"0 0 42 42"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},f&1&&n[0]]))},i:P,o:P,d(n){n&&$(e)}}}function dt(l,e,s){return l.$$set=t=>{s(0,e=_e(_e({},e),Ie(t)))},e=Ie(e),[e]}class ht extends le{constructor(e){super(),ae(this,e,dt,mt,ne,{})}}function pt(l){let e,s;return e=new ht({props:{width:"26"}}),{c(){x(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,r){T(e,t,r),s=!0},p:P,i(t){s||(k(e.$$.fragment,t),s=!0)},o(t){D(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function _t(l){var d;let e,s,t,r,c,n,f,o,a,m,p,_,y,i,u;return r=new H({props:{typo:"label",content:"Title",class:"case-upper"}}),n=new H({props:{typo:"h3",content:l[0].title}}),m=new H({props:{typo:"label",content:"Domain",class:"case-upper"}}),_=new H({props:{typo:"h3",content:(d=l[0].host)==null?void 0:d.replace("www.","")}}),i=new Ge({props:{url:l[0].link,class:"col-[span-12] xl:col-[span-1] flex-center-center",external:!0,$$slots:{default:[pt]},$$scope:{ctx:l}}}),{c(){e=q("div"),s=q("div"),t=q("div"),x(r.$$.fragment),c=M(),x(n.$$.fragment),f=M(),o=q("div"),a=q("div"),x(m.$$.fragment),p=M(),x(_.$$.fragment),y=M(),x(i.$$.fragment),this.h()},l(g){e=I(g,"DIV",{class:!0});var h=E(e);s=I(h,"DIV",{class:!0});var V=E(s);t=I(V,"DIV",{});var G=E(t);L(r.$$.fragment,G),c=S(G),L(n.$$.fragment,G),G.forEach($),V.forEach($),f=S(h),o=I(h,"DIV",{class:!0});var N=E(o);a=I(N,"DIV",{});var O=E(a);L(m.$$.fragment,O),p=S(O),L(_.$$.fragment,O),O.forEach($),N.forEach($),y=S(h),L(i.$$.fragment,h),h.forEach($),this.h()},h(){w(s,"class","col-[span-12] xl:col-[span-7] pb-s xl:pb-0"),w(o,"class","col-[span-12] xl:col-[span-4] pb-s xl:pb-0"),w(e,"class","getty grid-12-gap p-s svelte-1fqo2ur")},m(g,h){j(g,e,h),v(e,s),v(s,t),T(r,t,null),v(t,c),T(n,t,null),v(e,f),v(e,o),v(o,a),T(m,a,null),v(a,p),T(_,a,null),v(e,y),T(i,e,null),u=!0},p(g,[h]){var O;const V={};h&1&&(V.content=g[0].title),n.$set(V);const G={};h&1&&(G.content=(O=g[0].host)==null?void 0:O.replace("www.","")),_.$set(G);const N={};h&1&&(N.url=g[0].link),h&2&&(N.$$scope={dirty:h,ctx:g}),i.$set(N)},i(g){u||(k(r.$$.fragment,g),k(n.$$.fragment,g),k(m.$$.fragment,g),k(_.$$.fragment,g),k(i.$$.fragment,g),u=!0)},o(g){D(r.$$.fragment,g),D(n.$$.fragment,g),D(m.$$.fragment,g),D(_.$$.fragment,g),D(i.$$.fragment,g),u=!1},d(g){g&&$(e),C(r),C(n),C(m),C(_),C(i)}}}function vt(l,e,s){let{data:t}=e;return l.$$set=r=>{"data"in r&&s(0,t=r.data)},[t]}let $t=class extends le{constructor(e){super(),ae(this,e,vt,_t,ne,{data:0})}};function wt(l){let e,s;return e=new ct({props:{width:"26"}}),{c(){x(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,r){T(e,t,r),s=!0},p:P,i(t){s||(k(e.$$.fragment,t),s=!0)},o(t){D(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function yt(l){var ve,$e;let e,s,t,r,c,n,f,o,a,m,p,_,y,i,u,d,g,h,V,G,N,O,R,ce,U,Y,A,ie,he,ee,Z,F,pe,z,te;return c=new H({props:{content:"Query",typo:"label",class:"case-upper"}}),f=new H({props:{tag:"h3",typo:"h3",content:l[0][0].clusterLabel,ellipsis:!0}}),m=new H({props:{content:"Image",typo:"label",class:"case-upper"}}),g=new H({props:{content:"Results",typo:"label",class:"case-upper"}}),V=new H({props:{content:(ve=l[0])==null?void 0:ve.length}}),R=new Ge({props:{fn:l[1],class:"p-xs",$$slots:{default:[wt]},$$scope:{ctx:l}}}),F=new H({props:{content:"Results",typo:"label",class:"case-upper"}}),z=new H({props:{content:($e=l[0])==null?void 0:$e.length}}),{c(){e=q("div"),s=q("div"),t=q("div"),r=q("div"),x(c.$$.fragment),n=M(),x(f.$$.fragment),o=M(),a=q("div"),x(m.$$.fragment),p=M(),_=q("div"),y=q("img"),u=M(),d=q("div"),x(g.$$.fragment),h=M(),x(V.$$.fragment),G=M(),N=q("div"),O=q("div"),x(R.$$.fragment),ce=M(),U=q("div"),Y=q("div"),A=q("img"),he=M(),ee=q("div"),Z=q("div"),x(F.$$.fragment),pe=M(),x(z.$$.fragment),this.h()},l(b){e=I(b,"DIV",{class:!0});var B=E(e);s=I(B,"DIV",{class:!0});var Q=E(s);t=I(Q,"DIV",{class:!0});var K=E(t);r=I(K,"DIV",{class:!0});var J=E(r);L(c.$$.fragment,J),n=S(J),L(f.$$.fragment,J),J.forEach($),o=S(K),a=I(K,"DIV",{class:!0});var W=E(a);L(m.$$.fragment,W),p=S(W),_=I(W,"DIV",{class:!0});var oe=E(_);y=I(oe,"IMG",{src:!0,alt:!0,class:!0}),oe.forEach($),W.forEach($),K.forEach($),u=S(Q),d=I(Q,"DIV",{class:!0});var X=E(d);L(g.$$.fragment,X),h=S(X),L(V.$$.fragment,X),X.forEach($),G=S(Q),N=I(Q,"DIV",{class:!0,role:!0});var we=E(N);O=I(we,"DIV",{class:!0});var ye=E(O);L(R.$$.fragment,ye),ye.forEach($),we.forEach($),Q.forEach($),B.forEach($),ce=S(b),U=I(b,"DIV",{class:!0});var ue=E(U);Y=I(ue,"DIV",{class:!0});var be=E(Y);A=I(be,"IMG",{src:!0,alt:!0,class:!0}),be.forEach($),he=S(ue),ee=I(ue,"DIV",{class:!0});var ke=E(ee);Z=I(ke,"DIV",{class:!0});var fe=E(Z);L(F.$$.fragment,fe),pe=S(fe),L(z.$$.fragment,fe),fe.forEach($),ke.forEach($),ue.forEach($),this.h()},h(){w(r,"class","xl:col-[span-3]"),se(y.src,i=l[2](l[0][0].image_id))||w(y,"src",i),w(y,"alt",""),w(y,"class","svelte-1umfua"),w(_,"class","img ratio-[4/3] svelte-1umfua"),w(a,"class","hidden xl:block xl:col-[span-2]"),w(t,"class","title xl:col-[span-5] py-s px-s xl:grid-5-gap svelte-1umfua"),w(d,"class","hidden xl:block xl:col-[10/span-2] py-s px-s xl:px-0"),w(O,"class","flex-end p-s"),w(N,"class","close xl:col-12"),w(N,"role","button"),w(s,"class","content grid-2-0 auto-flow-dense xl:grid-12-gap"),w(e,"class","navbar bg-white sticky top-0 svelte-1umfua"),se(A.src,ie=l[2](l[0][0].image_id))||w(A,"src",ie),w(A,"alt",""),w(A,"class","svelte-1umfua"),w(Y,"class","img ratio-[16/9] svelte-1umfua"),w(Z,"class","col-[span-2]"),w(ee,"class","grid-4-0 p-s info svelte-1umfua"),w(U,"class","xl:hidden")},m(b,B){j(b,e,B),v(e,s),v(s,t),v(t,r),T(c,r,null),v(r,n),T(f,r,null),v(t,o),v(t,a),T(m,a,null),v(a,p),v(a,_),v(_,y),v(s,u),v(s,d),T(g,d,null),v(d,h),T(V,d,null),v(s,G),v(s,N),v(N,O),T(R,O,null),j(b,ce,B),j(b,U,B),v(U,Y),v(Y,A),v(U,he),v(U,ee),v(ee,Z),T(F,Z,null),v(Z,pe),T(z,Z,null),te=!0},p(b,[B]){var oe,X;const Q={};B&1&&(Q.content=b[0][0].clusterLabel),f.$set(Q),(!te||B&1&&!se(y.src,i=b[2](b[0][0].image_id)))&&w(y,"src",i);const K={};B&1&&(K.content=(oe=b[0])==null?void 0:oe.length),V.$set(K);const J={};B&64&&(J.$$scope={dirty:B,ctx:b}),R.$set(J),(!te||B&1&&!se(A.src,ie=b[2](b[0][0].image_id)))&&w(A,"src",ie);const W={};B&1&&(W.content=(X=b[0])==null?void 0:X.length),z.$set(W)},i(b){te||(k(c.$$.fragment,b),k(f.$$.fragment,b),k(m.$$.fragment,b),k(g.$$.fragment,b),k(V.$$.fragment,b),k(R.$$.fragment,b),k(F.$$.fragment,b),k(z.$$.fragment,b),te=!0)},o(b){D(c.$$.fragment,b),D(f.$$.fragment,b),D(m.$$.fragment,b),D(g.$$.fragment,b),D(V.$$.fragment,b),D(R.$$.fragment,b),D(F.$$.fragment,b),D(z.$$.fragment,b),te=!1},d(b){b&&($(e),$(ce),$(U)),C(c),C(f),C(m),C(g),C(V),C(R),C(F),C(z)}}}function bt(l,e,s){const t=Ze();let{cluster:r,rank:c,query:n}=e;const f=()=>{t("close")},o=a=>`${de}/assets/gettyimages/${n}/images/${a}.jpg`;return l.$$set=a=>{"cluster"in a&&s(0,r=a.cluster),"rank"in a&&s(3,c=a.rank),"query"in a&&s(4,n=a.query)},[r,f,o,c,n]}class kt extends le{constructor(e){super(),ae(this,e,bt,yt,ne,{cluster:0,rank:3,query:4})}}function Ee(l,e,s){const t=l.slice();return t[7]=e[s],t[9]=s,t}function Ve(l){let e,s;return e=new $t({props:{data:l[7]}}),{c(){x(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,r){T(e,t,r),s=!0},p:P,i(t){s||(k(e.$$.fragment,t),s=!0)},o(t){D(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function qt(l){let e,s,t,r,c,n,f;s=new kt({props:{cluster:l[2],rank:l[3],query:l[0]}}),s.$on("close",function(){ze(l[1])&&l[1].apply(this,arguments)});let o=re(l[2]),a=[];for(let p=0;p<o.length;p+=1)a[p]=Ve(Ee(l,o,p));const m=p=>D(a[p],1,1,()=>{a[p]=null});return{c(){e=q("div"),x(s.$$.fragment),t=M(),r=q("div");for(let p=0;p<a.length;p+=1)a[p].c();this.h()},l(p){e=I(p,"DIV",{class:!0});var _=E(e);L(s.$$.fragment,_),t=S(_),r=I(_,"DIV",{class:!0});var y=E(r);for(let i=0;i<a.length;i+=1)a[i].l(y);y.forEach($),_.forEach($),this.h()},h(){w(r,"class","container p-s flex flex-col gap-s svelte-1lvxush"),w(e,"class","news svelte-1lvxush")},m(p,_){j(p,e,_),T(s,e,null),v(e,t),v(e,r);for(let y=0;y<a.length;y+=1)a[y]&&a[y].m(r,null);c=!0,n||(f=Oe(window,"keydown",l[4]),n=!0)},p(p,[_]){l=p;const y={};if(_&1&&(y.query=l[0]),s.$set(y),_&4){o=re(l[2]);let i;for(i=0;i<o.length;i+=1){const u=Ee(l,o,i);a[i]?(a[i].p(u,_),k(a[i],1)):(a[i]=Ve(u),a[i].c(),k(a[i],1),a[i].m(r,null))}for(ge(),i=o.length;i<a.length;i+=1)m(i);me()}},i(p){if(!c){k(s.$$.fragment,p);for(let _=0;_<o.length;_+=1)k(a[_]);c=!0}},o(p){D(s.$$.fragment,p),a=a.filter(Boolean);for(let _=0;_<a.length;_+=1)D(a[_]);c=!1},d(p){p&&$(e),C(s),Be(a,p),n=!1,f()}}}function It(l,e,s){let t;He(l,at,m=>s(6,t=m));let{query:r}=e,{news:c}=e,{close:n=()=>{}}=e;const{cluster:f,rank:o}=c,a=m=>{m.key==="Escape"&&n()};return l.$$set=m=>{"query"in m&&s(0,r=m.query),"news"in m&&s(5,c=m.news),"close"in m&&s(1,n=m.close)},l.$$.update=()=>{l.$$.dirty&66&&t&&n()},[r,n,f,o,a,c,t]}class Dt extends le{constructor(e){super(),ae(this,e,It,qt,ne,{query:0,news:5,close:1})}}function xe(l,e,s){const t=l.slice();return t[5]=e[s][0],t[6]=e[s][1],t[8]=s,t}function Le(l,e){let s,t,r,c,n,f;function o(){return e[4](e[6],e[8])}return{key:l,first:null,c(){s=q("button"),t=q("img"),c=M(),this.h()},l(a){s=I(a,"BUTTON",{class:!0});var m=E(s);t=I(m,"IMG",{src:!0,alt:!0,class:!0}),c=S(m),m.forEach($),this.h()},h(){se(t.src,r=e[3](e[5]))||w(t,"src",r),w(t,"alt",""),w(t,"class","svelte-5ya1ec"),w(s,"class","img relative svelte-5ya1ec"),this.first=s},m(a,m){j(a,s,m),v(s,t),v(s,c),n||(f=Oe(s,"click",o),n=!0)},p(a,m){e=a,m&1&&!se(t.src,r=e[3](e[5]))&&w(t,"src",r)},d(a){a&&$(s),n=!1,f()}}}function Et(l){let e,s,t,r,c,n,f,o,a=[],m=new Map,p;r=new H({props:{typo:"label",content:"Query",class:"case-upper"}}),n=new H({props:{typo:"h3",content:l[0][1][0][1][0].clusterLabel,class:"mb-xs"}});let _=re(l[0][1]);const y=i=>`${i[5]}-${i[0][0]}-${i[1]}`;for(let i=0;i<_.length;i+=1){let u=xe(l,_,i),d=y(u);m.set(d,a[i]=Le(d,u))}return{c(){e=q("div"),s=q("div"),t=q("div"),x(r.$$.fragment),c=M(),x(n.$$.fragment),f=M(),o=q("div");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=I(i,"DIV",{class:!0});var u=E(e);s=I(u,"DIV",{class:!0});var d=E(s);t=I(d,"DIV",{});var g=E(t);L(r.$$.fragment,g),c=S(g),L(n.$$.fragment,g),g.forEach($),d.forEach($),f=S(u),o=I(u,"DIV",{class:!0});var h=E(o);for(let V=0;V<a.length;V+=1)a[V].l(h);h.forEach($),u.forEach($),this.h()},h(){w(s,"class","h-full overflow-hidden col-[span-9] xl:col-[span-2] flex-btw-start xl:flex-col-btw-start p-s"),w(o,"class","h-full overflow-hidden col-[span-9] xl:col-[span-7] grid-3-0"),w(e,"class","getty grid-9-gap svelte-5ya1ec")},m(i,u){j(i,e,u),v(e,s),v(s,t),T(r,t,null),v(t,c),T(n,t,null),v(e,f),v(e,o);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(o,null);p=!0},p(i,[u]){const d={};u&1&&(d.content=i[0][1][0][1][0].clusterLabel),n.$set(d),u&15&&(_=re(i[0][1]),a=We(a,u,y,1,i,_,m,o,Xe,Le,null,xe))},i(i){p||(k(r.$$.fragment,i),k(n.$$.fragment,i),p=!0)},o(i){D(r.$$.fragment,i),D(n.$$.fragment,i),p=!1},d(i){i&&$(e),C(r),C(n);for(let u=0;u<a.length;u+=1)a[u].d()}}}function Vt(l,e,s){let{cluster:t}=e,{query:r}=e,{open:c=(o,a)=>{}}=e;const n=o=>`${de}/assets/gettyimages/${r}/images/${o}.jpg`,f=(o,a)=>c(o,a+1);return l.$$set=o=>{"cluster"in o&&s(0,t=o.cluster),"query"in o&&s(1,r=o.query),"open"in o&&s(2,c=o.open)},[t,r,c,n,f]}class xt extends le{constructor(e){super(),ae(this,e,Vt,Et,ne,{cluster:0,query:1,open:2})}}function Te(l,e,s){const t=l.slice();return t[15]=e[s],t}function Lt(l){let e,s,t=re(l[4]),r=[];for(let n=0;n<t.length;n+=1)r[n]=Ce(Te(l,t,n));const c=n=>D(r[n],1,1,()=>{r[n]=null});return{c(){e=q("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=I(n,"DIV",{class:!0});var f=E(e);for(let o=0;o<r.length;o+=1)r[o].l(f);f.forEach($),this.h()},h(){w(e,"class","container p-s flex-col-start gap-s svelte-fr0d3y")},m(n,f){j(n,e,f);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);s=!0},p(n,f){if(f&1044){t=re(n[4]);let o;for(o=0;o<t.length;o+=1){const a=Te(n,t,o);r[o]?(r[o].p(a,f),k(r[o],1)):(r[o]=Ce(a),r[o].c(),k(r[o],1),r[o].m(e,null))}for(ge(),o=t.length;o<r.length;o+=1)c(o);me()}},i(n){if(!s){for(let f=0;f<t.length;f+=1)k(r[f]);s=!0}},o(n){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)D(r[f]);s=!1},d(n){n&&$(e),Be(r,n)}}}function Tt(l){let e,s="<p>No data available</p>";return{c(){e=q("div"),e.innerHTML=s,this.h()},l(t){e=I(t,"DIV",{class:!0,"data-svelte-h":!0}),je(e)!=="svelte-kunnt3"&&(e.innerHTML=s),this.h()},h(){w(e,"class","container flex-center-center svelte-fr0d3y")},m(t,r){j(t,e,r)},p:P,i:P,o:P,d(t){t&&$(e)}}}function Ct(l){let e,s="<p>Loading...</p>";return{c(){e=q("div"),e.innerHTML=s,this.h()},l(t){e=I(t,"DIV",{class:!0,"data-svelte-h":!0}),je(e)!=="svelte-qdph03"&&(e.innerHTML=s),this.h()},h(){w(e,"class","container flex-center-center svelte-fr0d3y")},m(t,r){j(t,e,r)},p:P,i:P,o:P,d(t){t&&$(e)}}}function Ce(l){let e,s;return e=new xt({props:{cluster:l[15],query:l[2],open:l[10]}}),{c(){x(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,r){T(e,t,r),s=!0},p(t,r){const c={};r&16&&(c.cluster=t[15]),r&4&&(c.query=t[2]),e.$set(c)},i(t){s||(k(e.$$.fragment,t),s=!0)},o(t){D(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function Me(l){let e,s;return e=new Dt({props:{news:l[3],close:l[9],query:l[2]}}),{c(){x(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,r){T(e,t,r),s=!0},p(t,r){const c={};r&8&&(c.news=t[3]),r&4&&(c.query=t[2]),e.$set(c)},i(t){s||(k(e.$$.fragment,t),s=!0)},o(t){D(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function Mt(l){let e,s,t,r,c,n,f,o,a,m,p;t=new Ye({props:{queries:l[5],showLang:!1,description:l[7]("description"),question:l[7]("research_question"),topic:Pe}});const _=[Ct,Tt,Lt],y=[];function i(d,g){var h;return d[1]?0:(h=d[0])!=null&&h.length?2:1}c=i(l),n=y[c]=_[c](l);let u=l[3].isOpen&&Me(l);return{c(){e=M(),s=q("div"),x(t.$$.fragment),r=M(),n.c(),f=M(),u&&u.c(),o=De(),this.h()},l(d){e=S(d),s=I(d,"DIV",{class:!0});var g=E(s);L(t.$$.fragment,g),r=S(g),n.l(g),f=S(g),u&&u.l(g),o=De(),g.forEach($),this.h()},h(){w(s,"class","page xl:flex-start-start")},m(d,g){j(d,e,g),j(d,s,g),T(t,s,null),v(s,r),y[c].m(s,null),v(s,f),u&&u.m(s,null),v(s,o),a=!0,m||(p=Fe(nt.call(null,document.body,l[6])),m=!0)},p(d,[g]){let h=c;c=i(d),c===h?y[c].p(d,g):(ge(),D(y[h],1,1,()=>{y[h]=null}),me(),n=y[c],n?n.p(d,g):(n=y[c]=_[c](d),n.c()),k(n,1),n.m(s,f)),d[3].isOpen?u?(u.p(d,g),g&8&&k(u,1)):(u=Me(d),u.c(),k(u,1),u.m(o.parentNode,o)):u&&(ge(),D(u,1,1,()=>{u=null}),me())},i(d){a||(k(t.$$.fragment,d),k(n),k(u),a=!0)},o(d){D(t.$$.fragment,d),D(n),D(u),a=!1},d(d){d&&($(e),$(s)),C(t),y[c].d(),u&&u.d(),m=!1,p()}}}const Pe="getty_circulation";function St(l,e,s){let t,r,c,{data:n}=e;const{queries:f}=n,o=lt(),a=tt(Pe);let m,p=!1,_=et("query");He(l,_,h=>s(2,c=h)),Ke(()=>{var h;c||Je(_,c=(h=f[0])==null?void 0:h.query,c)});const y=`${de}/assets/gettyimages`,i=async()=>{if(p||!rt)return;if(s(1,p=!0),!c){s(1,p=!1),s(0,m=null);return}const{data:h,error:V}=await Se({key:"getty-stereotypes-data",url:t,type:"text"});h?s(0,m=Ne(h)):s(0,m=null),s(1,p=!1)},u={isOpen:!1,cluster:[]},d=()=>{s(3,u.isOpen=!1,u),s(3,u.cluster=[],u),s(3,u.rank=null,u),o.toggle(!1)},g=(h,V)=>{s(3,u.isOpen=!0,u),s(3,u.cluster=h,u),s(3,u.rank=V,u),o.toggle(!0)};return l.$$set=h=>{"data"in h&&s(11,n=h.data)},l.$$.update=()=>{l.$$.dirty&4&&s(12,t=`${y}/${c}/reverse_image_search/${c}.csv`),l.$$.dirty&3&&s(4,r=m!=null&&m.length&&!p?st(m,h=>h.cluster,h=>h.image_id).sort((h,V)=>h[0]==="other"?1:V[0]==="other"?-1:h[0]>V[0]?1:-1):[]),l.$$.dirty&4096&&i()},[m,p,c,u,r,f,o,a,_,d,g,n,t]}class Kt extends le{constructor(e){super(),ae(this,e,St,Mt,ne,{data:11})}}export{Kt as component,zt as universal};
